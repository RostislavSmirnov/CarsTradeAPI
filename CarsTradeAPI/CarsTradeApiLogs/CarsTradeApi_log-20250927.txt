2025-09-27 16:01:05.952 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-27 16:01:06.037 +03:00 [DBG] Hosting starting
2025-09-27 16:01:06.077 +03:00 [INF] User profile is available. Using 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-27 16:01:06.086 +03:00 [DBG] Reading data from file 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys\key-054e4f4f-034f-4178-b80f-9acafa555bb9.xml'.
2025-09-27 16:01:06.117 +03:00 [DBG] Reading data from file 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys\key-bd51bb47-76a7-46e8-9e05-b4ffb5832e51.xml'.
2025-09-27 16:01:06.133 +03:00 [DBG] Found key {054e4f4f-034f-4178-b80f-9acafa555bb9}.
2025-09-27 16:01:06.138 +03:00 [DBG] Found key {bd51bb47-76a7-46e8-9e05-b4ffb5832e51}.
2025-09-27 16:01:06.141 +03:00 [DBG] Considering key {054e4f4f-034f-4178-b80f-9acafa555bb9} with expiration date 2025-10-09 12:57:51Z as default key.
2025-09-27 16:01:06.143 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-27 16:01:06.144 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-27 16:01:06.145 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-27 16:01:06.148 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-27 16:01:06.149 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-27 16:01:06.149 +03:00 [DBG] Using key {054e4f4f-034f-4178-b80f-9acafa555bb9} as the default key.
2025-09-27 16:01:06.150 +03:00 [DBG] Key ring with default key {054e4f4f-034f-4178-b80f-9acafa555bb9} was loaded during application startup.
2025-09-27 16:01:06.154 +03:00 [DBG] Middleware loaded
2025-09-27 16:01:06.155 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16509 B).
2025-09-27 16:01:06.156 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-27 16:01:06.267 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-27 16:01:06.271 +03:00 [DBG] Loaded hosting startup assembly CarsTradeAPI
2025-09-27 16:01:06.271 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-27 16:01:06.271 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-27 16:01:06.271 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-27 16:01:06.333 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/swagger/index.html - null null
2025-09-27 16:01:06.384 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-27 16:01:06.384 +03:00 [INF] Hosting environment: Development
2025-09-27 16:01:06.384 +03:00 [INF] Content root path: B:\MyDevelopment\MyRepos\CarsTradeAPI\CarsTradeAPI
2025-09-27 16:01:06.384 +03:00 [DBG] Hosting started
2025-09-27 16:01:07.609 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-27 16:01:07.625 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-27 16:01:07.625 +03:00 [DBG] Request did not match any endpoints
2025-09-27 16:01:08.378 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:01:08.415 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-27 16:01:08.416 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-27 16:01:08.453 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-27 16:01:08.453 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-27 16:01:08.455 +03:00 [DBG] Connection ID "18302628933683642369" disconnecting.
2025-09-27 16:01:08.457 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/swagger/index.html - 200 null text/html;charset=utf-8 2130.3679ms
2025-09-27 16:01:08.473 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/_framework/aspnetcore-browser-refresh.js - null null
2025-09-27 16:01:08.476 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-27 16:01:08.476 +03:00 [DBG] Connection ID "18374686536311504918" disconnecting.
2025-09-27 16:01:08.477 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 3.3092ms
2025-09-27 16:01:08.487 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/_vs/browserLink - null null
2025-09-27 16:01:08.536 +03:00 [DBG] Connection ID "18374686523426603011" disconnecting.
2025-09-27 16:01:08.537 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.2313ms
2025-09-27 16:01:08.670 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/swagger/v1/swagger.json - null null
2025-09-27 16:01:08.671 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-27 16:01:08.671 +03:00 [DBG] Request did not match any endpoints
2025-09-27 16:01:08.672 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:01:08.736 +03:00 [DBG] Connection ID "18302628895028936709" disconnecting.
2025-09-27 16:01:08.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.3216ms
2025-09-27 16:02:04.167 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44394/api/Buyer/CreateBuyer - application/json 210
2025-09-27 16:02:04.185 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Buyer/CreateBuyer'
2025-09-27 16:02:04.188 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.BuyerOperation.BuyerController.CreateBuyer (CarsTradeAPI)' with route pattern 'api/Buyer/CreateBuyer' is valid for the request path '/api/Buyer/CreateBuyer'
2025-09-27 16:02:04.188 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.BuyerOperation.BuyerController.CreateBuyer (CarsTradeAPI)'
2025-09-27 16:02:04.190 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:02:04.191 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 16:02:04.193 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.BuyerOperation.BuyerController.CreateBuyer (CarsTradeAPI)'
2025-09-27 16:02:04.220 +03:00 [INF] Route matched with {action = "CreateBuyer", controller = "Buyer"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CarsTradeAPI.Features.BuyerOperation.BuyerDto.ShowBuyerDto]] CreateBuyer(CarsTradeAPI.Features.BuyerOperation.CreateBuyer.CreateBuyerCommand) on controller CarsTradeAPI.Features.BuyerOperation.BuyerController (CarsTradeAPI).
2025-09-27 16:02:04.221 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 16:02:04.221 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 16:02:04.221 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 16:02:04.221 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 16:02:04.222 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 16:02:04.223 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.BuyerOperation.BuyerController (CarsTradeAPI)
2025-09-27 16:02:04.225 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-27 16:02:04.225 +03:00 [DBG] Executed controller factory for controller CarsTradeAPI.Features.BuyerOperation.BuyerController (CarsTradeAPI)
2025-09-27 16:02:04.229 +03:00 [DBG] Attempting to bind parameter 'createBuyerCommand' of type 'CarsTradeAPI.Features.BuyerOperation.CreateBuyer.CreateBuyerCommand' ...
2025-09-27 16:02:04.230 +03:00 [DBG] Attempting to bind parameter 'createBuyerCommand' of type 'CarsTradeAPI.Features.BuyerOperation.CreateBuyer.CreateBuyerCommand' using the name '' in request data ...
2025-09-27 16:02:04.231 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-27 16:02:04.244 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CarsTradeAPI.Features.BuyerOperation.CreateBuyer.CreateBuyerCommand'
2025-09-27 16:02:04.244 +03:00 [DBG] Done attempting to bind parameter 'createBuyerCommand' of type 'CarsTradeAPI.Features.BuyerOperation.CreateBuyer.CreateBuyerCommand'.
2025-09-27 16:02:04.244 +03:00 [DBG] Done attempting to bind parameter 'createBuyerCommand' of type 'CarsTradeAPI.Features.BuyerOperation.CreateBuyer.CreateBuyerCommand'.
2025-09-27 16:02:04.244 +03:00 [DBG] Attempting to validate the bound parameter 'createBuyerCommand' of type 'CarsTradeAPI.Features.BuyerOperation.CreateBuyer.CreateBuyerCommand' ...
2025-09-27 16:02:04.249 +03:00 [DBG] Done attempting to validate the bound parameter 'createBuyerCommand' of type 'CarsTradeAPI.Features.BuyerOperation.CreateBuyer.CreateBuyerCommand'.
2025-09-27 16:02:04.251 +03:00 [INF] Получен запрос на создание нового покупателя
2025-09-27 16:02:04.280 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-27 16:02:04.281 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-27 16:02:04.281 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-27 16:02:04.281 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-27 16:02:04.281 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-27 16:02:04.282 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-27 16:02:04.282 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarsTradeAPI.Infrastructure.ValidationBehavior.ErrorDetail, CarsTradeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-27 16:02:04.287 +03:00 [INF] Executed action CarsTradeAPI.Features.BuyerOperation.BuyerController.CreateBuyer (CarsTradeAPI) in 63.6654ms
2025-09-27 16:02:04.287 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.BuyerOperation.BuyerController.CreateBuyer (CarsTradeAPI)'
2025-09-27 16:02:04.288 +03:00 [DBG] Connection ID "18230571313875910659" disconnecting.
2025-09-27 16:02:04.288 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44394/api/Buyer/CreateBuyer - 400 null application/json; charset=utf-8 120.4649ms
2025-09-27 16:06:34.848 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/api/Orders/GetAllOrders/All - null null
2025-09-27 16:06:34.880 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Orders/GetAllOrders/All'
2025-09-27 16:06:34.880 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)' with route pattern 'api/Orders/GetAllOrders/All' is valid for the request path '/api/Orders/GetAllOrders/All'
2025-09-27 16:06:34.881 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)'
2025-09-27 16:06:34.881 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:06:34.883 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 16:06:34.884 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)'
2025-09-27 16:06:34.887 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CarsTradeAPI.Features.OrdersOperation.OrdersDto.ShowOrderDto]]] GetAllOrders() on controller CarsTradeAPI.Features.OrdersOperation.OrdersController (CarsTradeAPI).
2025-09-27 16:06:34.887 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 16:06:34.887 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 16:06:34.887 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 16:06:34.887 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 16:06:34.887 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 16:06:34.887 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.OrdersOperation.OrdersController (CarsTradeAPI)
2025-09-27 16:06:34.892 +03:00 [INF] Executed action CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI) in 4.4425ms
2025-09-27 16:06:34.893 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)'
2025-09-27 16:06:34.895 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'CarsTradeAPI.Features.OrdersOperation.OrdersController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method22(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-27 16:06:34.939 +03:00 [DBG] Connection ID "18302628912208805894" disconnecting.
2025-09-27 16:06:34.939 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/api/Orders/GetAllOrders/All - 500 null text/plain; charset=utf-8 92.0162ms
2025-09-27 16:08:44.399 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/api/Employee/GetAllEmployee/All - null null
2025-09-27 16:08:44.403 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Employee/GetAllEmployee/All'
2025-09-27 16:08:44.403 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.EmployeeOperation.EmployeeController.GetAllEmployee (CarsTradeAPI)' with route pattern 'api/Employee/GetAllEmployee/All' is valid for the request path '/api/Employee/GetAllEmployee/All'
2025-09-27 16:08:44.403 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.EmployeeOperation.EmployeeController.GetAllEmployee (CarsTradeAPI)'
2025-09-27 16:08:44.404 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:08:44.404 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 16:08:44.404 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.EmployeeOperation.EmployeeController.GetAllEmployee (CarsTradeAPI)'
2025-09-27 16:08:44.411 +03:00 [INF] Route matched with {action = "GetAllEmployee", controller = "Employee"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CarsTradeAPI.Features.EmployeeOperation.EmployeeDto.ShowEmployeeDto]]] GetAllEmployee() on controller CarsTradeAPI.Features.EmployeeOperation.EmployeeController (CarsTradeAPI).
2025-09-27 16:08:44.411 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 16:08:44.411 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 16:08:44.411 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 16:08:44.411 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 16:08:44.411 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 16:08:44.411 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.EmployeeOperation.EmployeeController (CarsTradeAPI)
2025-09-27 16:08:44.411 +03:00 [DBG] Executed controller factory for controller CarsTradeAPI.Features.EmployeeOperation.EmployeeController (CarsTradeAPI)
2025-09-27 16:08:44.413 +03:00 [INF] Начало обработки запроса GetAllEmployee
2025-09-27 16:08:44.731 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-27 16:08:44.815 +03:00 [INF] Начало обработки команды GetAllEmployeeQuery
2025-09-27 16:08:44.816 +03:00 [INF] Этап получения всех сотрудников в репозитории
2025-09-27 16:08:45.284 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'CarsTradeDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: None
2025-09-27 16:08:45.297 +03:00 [DBG] Compiling query expression: 
'DbSet<Employee>()'
2025-09-27 16:08:45.396 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Employee>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Employee.EmployeeId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Employee.EmployeeAge (uint) Required, 1], [Property: Employee.EmployeeLogin (string) Required Index, 2], [Property: Employee.EmployeeMiddlename (string), 3], [Property: Employee.EmployeeName (string) Required, 4], [Property: Employee.EmployeePassword (string) Required MaxLength(260), 5], [Property: Employee.EmployeeRole (string) Required, 6], [Property: Employee.EmployeeSellCounter (uint?), 7], [Property: Employee.EmployeeSurname (string) Required, 8] }
        SELECT e.employee_id, e.employee_age, e.employee_login, e.employee_middlename, e.employee_name, e.employee_password, e.employee_role, e.employee_sellcounter, e.employee_surname
        FROM Employees AS e), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Employee>, 
    CarsTradeAPI.Data.CarsTradeDbContext, 
    False, 
    False, 
    True
)'
2025-09-27 16:08:45.413 +03:00 [DBG] Creating DbConnection.
2025-09-27 16:08:45.415 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-27 16:08:45.416 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:08:45.682 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:08:45.684 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:08:45.688 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-27 16:08:45.689 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-09-27 16:08:45.693 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e.employee_id, e.employee_age, e.employee_login, e.employee_middlename, e.employee_name, e.employee_password, e.employee_role, e.employee_sellcounter, e.employee_surname
FROM "Employees" AS e
2025-09-27 16:08:45.714 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT e.employee_id, e.employee_age, e.employee_login, e.employee_middlename, e.employee_name, e.employee_password, e.employee_role, e.employee_sellcounter, e.employee_surname
FROM "Employees" AS e
2025-09-27 16:08:45.766 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:08:45.784 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:08:45.784 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'Employee' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:08:45.786 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:08:45.791 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 74ms reading results.
2025-09-27 16:08:45.793 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:08:45.796 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (2ms).
2025-09-27 16:08:45.796 +03:00 [INF] Все сотрудники успешно получены. Количество: 3
2025-09-27 16:08:45.804 +03:00 [INF] Успешное получение всех сотрудников. Количество: 3
2025-09-27 16:08:45.805 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-27 16:08:45.805 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-27 16:08:45.806 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-27 16:08:45.806 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-27 16:08:45.806 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-27 16:08:45.806 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-27 16:08:45.806 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarsTradeAPI.Features.EmployeeOperation.EmployeeDto.ShowEmployeeDto, CarsTradeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-27 16:08:45.813 +03:00 [INF] Executed action CarsTradeAPI.Features.EmployeeOperation.EmployeeController.GetAllEmployee (CarsTradeAPI) in 1401.8394ms
2025-09-27 16:08:45.813 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.EmployeeOperation.EmployeeController.GetAllEmployee (CarsTradeAPI)'
2025-09-27 16:08:45.814 +03:00 [DBG] Connection ID "18374686484771897369" disconnecting.
2025-09-27 16:08:45.815 +03:00 [DBG] 'CarsTradeDbContext' disposed.
2025-09-27 16:08:45.818 +03:00 [DBG] Disposing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:08:45.819 +03:00 [DBG] Disposed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:08:45.819 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/api/Employee/GetAllEmployee/All - 200 null application/json; charset=utf-8 1420.3206ms
2025-09-27 16:12:06.865 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-27 16:12:06.935 +03:00 [DBG] Hosting starting
2025-09-27 16:12:06.951 +03:00 [INF] User profile is available. Using 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-27 16:12:06.961 +03:00 [DBG] Reading data from file 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys\key-054e4f4f-034f-4178-b80f-9acafa555bb9.xml'.
2025-09-27 16:12:06.969 +03:00 [DBG] Reading data from file 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys\key-bd51bb47-76a7-46e8-9e05-b4ffb5832e51.xml'.
2025-09-27 16:12:06.972 +03:00 [DBG] Found key {054e4f4f-034f-4178-b80f-9acafa555bb9}.
2025-09-27 16:12:06.974 +03:00 [DBG] Found key {bd51bb47-76a7-46e8-9e05-b4ffb5832e51}.
2025-09-27 16:12:06.978 +03:00 [DBG] Considering key {054e4f4f-034f-4178-b80f-9acafa555bb9} with expiration date 2025-10-09 12:57:51Z as default key.
2025-09-27 16:12:06.981 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-27 16:12:06.982 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-27 16:12:06.983 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-27 16:12:06.986 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-27 16:12:06.987 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-27 16:12:06.988 +03:00 [DBG] Using key {054e4f4f-034f-4178-b80f-9acafa555bb9} as the default key.
2025-09-27 16:12:06.988 +03:00 [DBG] Key ring with default key {054e4f4f-034f-4178-b80f-9acafa555bb9} was loaded during application startup.
2025-09-27 16:12:06.991 +03:00 [DBG] Middleware loaded
2025-09-27 16:12:06.992 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16509 B).
2025-09-27 16:12:06.993 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-27 16:12:07.059 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-27 16:12:07.062 +03:00 [DBG] Loaded hosting startup assembly CarsTradeAPI
2025-09-27 16:12:07.062 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-27 16:12:07.062 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-27 16:12:07.062 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-27 16:12:07.092 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/swagger/index.html - null null
2025-09-27 16:12:07.155 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-27 16:12:07.155 +03:00 [INF] Hosting environment: Development
2025-09-27 16:12:07.155 +03:00 [INF] Content root path: B:\MyDevelopment\MyRepos\CarsTradeAPI\CarsTradeAPI
2025-09-27 16:12:07.155 +03:00 [DBG] Hosting started
2025-09-27 16:12:07.162 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-27 16:12:07.173 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-27 16:12:07.173 +03:00 [DBG] Request did not match any endpoints
2025-09-27 16:12:07.207 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:12:07.242 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-27 16:12:07.243 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-27 16:12:07.264 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-27 16:12:07.265 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-27 16:12:07.266 +03:00 [DBG] Connection ID "18302628899323904002" disconnecting.
2025-09-27 16:12:07.268 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/swagger/index.html - 200 null text/html;charset=utf-8 180.821ms
2025-09-27 16:12:07.283 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/_vs/browserLink - null null
2025-09-27 16:12:07.283 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/_framework/aspnetcore-browser-refresh.js - null null
2025-09-27 16:12:07.285 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-27 16:12:07.285 +03:00 [DBG] Connection ID "18374686514836668433" disconnecting.
2025-09-27 16:12:07.286 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 2.6007ms
2025-09-27 16:12:07.305 +03:00 [DBG] Connection ID "18374686523426603013" disconnecting.
2025-09-27 16:12:07.306 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.2024ms
2025-09-27 16:12:07.351 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/swagger/v1/swagger.json - null null
2025-09-27 16:12:07.351 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-27 16:12:07.351 +03:00 [DBG] Request did not match any endpoints
2025-09-27 16:12:07.352 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:12:07.370 +03:00 [DBG] Connection ID "18374686519131635730" disconnecting.
2025-09-27 16:12:07.370 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.4019ms
2025-09-27 16:12:23.134 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/api/Orders/GetAllOrders/All - null null
2025-09-27 16:12:23.138 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Orders/GetAllOrders/All'
2025-09-27 16:12:23.141 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)' with route pattern 'api/Orders/GetAllOrders/All' is valid for the request path '/api/Orders/GetAllOrders/All'
2025-09-27 16:12:23.142 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)'
2025-09-27 16:12:23.144 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:12:23.145 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 16:12:23.147 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)'
2025-09-27 16:12:23.164 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CarsTradeAPI.Features.OrdersOperation.OrdersDto.ShowOrderDto]]] GetAllOrders() on controller CarsTradeAPI.Features.OrdersOperation.OrdersController (CarsTradeAPI).
2025-09-27 16:12:23.164 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 16:12:23.165 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 16:12:23.165 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 16:12:23.165 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 16:12:23.165 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 16:12:23.166 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.OrdersOperation.OrdersController (CarsTradeAPI)
2025-09-27 16:12:23.167 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-27 16:12:23.171 +03:00 [INF] Executed action CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI) in 4.2342ms
2025-09-27 16:12:23.172 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)'
2025-09-27 16:12:23.173 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'CarsTradeAPI.Features.OrdersOperation.OrdersController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-27 16:12:23.197 +03:00 [DBG] Connection ID "18374686514836668435" disconnecting.
2025-09-27 16:12:23.197 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/api/Orders/GetAllOrders/All - 500 null text/plain; charset=utf-8 63.1793ms
2025-09-27 16:14:34.064 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-27 16:14:34.130 +03:00 [DBG] Hosting starting
2025-09-27 16:14:34.147 +03:00 [INF] User profile is available. Using 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-27 16:14:34.158 +03:00 [DBG] Reading data from file 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys\key-054e4f4f-034f-4178-b80f-9acafa555bb9.xml'.
2025-09-27 16:14:34.166 +03:00 [DBG] Reading data from file 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys\key-bd51bb47-76a7-46e8-9e05-b4ffb5832e51.xml'.
2025-09-27 16:14:34.169 +03:00 [DBG] Found key {054e4f4f-034f-4178-b80f-9acafa555bb9}.
2025-09-27 16:14:34.172 +03:00 [DBG] Found key {bd51bb47-76a7-46e8-9e05-b4ffb5832e51}.
2025-09-27 16:14:34.175 +03:00 [DBG] Considering key {054e4f4f-034f-4178-b80f-9acafa555bb9} with expiration date 2025-10-09 12:57:51Z as default key.
2025-09-27 16:14:34.176 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-27 16:14:34.178 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-27 16:14:34.179 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-27 16:14:34.181 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-27 16:14:34.182 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-27 16:14:34.183 +03:00 [DBG] Using key {054e4f4f-034f-4178-b80f-9acafa555bb9} as the default key.
2025-09-27 16:14:34.183 +03:00 [DBG] Key ring with default key {054e4f4f-034f-4178-b80f-9acafa555bb9} was loaded during application startup.
2025-09-27 16:14:34.187 +03:00 [DBG] Middleware loaded
2025-09-27 16:14:34.188 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16509 B).
2025-09-27 16:14:34.188 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-27 16:14:34.248 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-27 16:14:34.251 +03:00 [DBG] Loaded hosting startup assembly CarsTradeAPI
2025-09-27 16:14:34.251 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-27 16:14:34.251 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-27 16:14:34.251 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-27 16:14:34.279 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/swagger/index.html - null null
2025-09-27 16:14:34.340 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-27 16:14:34.340 +03:00 [INF] Hosting environment: Development
2025-09-27 16:14:34.340 +03:00 [INF] Content root path: B:\MyDevelopment\MyRepos\CarsTradeAPI\CarsTradeAPI
2025-09-27 16:14:34.340 +03:00 [DBG] Hosting started
2025-09-27 16:14:34.346 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-27 16:14:34.358 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-27 16:14:34.358 +03:00 [DBG] Request did not match any endpoints
2025-09-27 16:14:34.395 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:14:34.432 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-27 16:14:34.433 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-27 16:14:34.453 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-27 16:14:34.454 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-27 16:14:34.455 +03:00 [DBG] Connection ID "18374686514836668437" disconnecting.
2025-09-27 16:14:34.456 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/swagger/index.html - 200 null text/html;charset=utf-8 182.226ms
2025-09-27 16:14:34.467 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/_vs/browserLink - null null
2025-09-27 16:14:34.467 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/_framework/aspnetcore-browser-refresh.js - null null
2025-09-27 16:14:34.469 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-27 16:14:34.470 +03:00 [DBG] Connection ID "18374686519131635732" disconnecting.
2025-09-27 16:14:34.470 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 2.9412ms
2025-09-27 16:14:34.490 +03:00 [DBG] Connection ID "18302628895028936711" disconnecting.
2025-09-27 16:14:34.494 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.503ms
2025-09-27 16:14:34.534 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/swagger/v1/swagger.json - null null
2025-09-27 16:14:34.534 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-27 16:14:34.535 +03:00 [DBG] Request did not match any endpoints
2025-09-27 16:14:34.535 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:14:34.554 +03:00 [DBG] Connection ID "18158513698363146243" disconnecting.
2025-09-27 16:14:34.554 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.1291ms
2025-09-27 16:14:43.329 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/api/Orders/GetAllOrders/All - null null
2025-09-27 16:14:43.334 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Orders/GetAllOrders/All'
2025-09-27 16:14:43.340 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)' with route pattern 'api/Orders/GetAllOrders/All' is valid for the request path '/api/Orders/GetAllOrders/All'
2025-09-27 16:14:43.341 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)'
2025-09-27 16:14:43.344 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:14:43.345 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 16:14:43.346 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)'
2025-09-27 16:14:43.362 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CarsTradeAPI.Features.OrdersOperation.OrdersDto.ShowOrderDto]]] GetAllOrders() on controller CarsTradeAPI.Features.OrdersOperation.OrdersController (CarsTradeAPI).
2025-09-27 16:14:43.364 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 16:14:43.364 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 16:14:43.364 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 16:14:43.364 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 16:14:43.364 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 16:14:43.365 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.OrdersOperation.OrdersController (CarsTradeAPI)
2025-09-27 16:14:43.367 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-27 16:14:43.367 +03:00 [DBG] Executed controller factory for controller CarsTradeAPI.Features.OrdersOperation.OrdersController (CarsTradeAPI)
2025-09-27 16:14:43.369 +03:00 [INF] Получение запроса на выдачу всех заказов
2025-09-27 16:14:43.546 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-27 16:14:43.560 +03:00 [INF] Начало обработки команды GetAllOrdersQuery
2025-09-27 16:14:43.974 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'CarsTradeDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: None
2025-09-27 16:14:43.993 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Include(o => o.OrderItems)
    .ThenInclude(oi => oi.CarModel)'
2025-09-27 16:14:44.031 +03:00 [DBG] Including navigation: 'Order.OrderItems'.
2025-09-27 16:14:44.045 +03:00 [DBG] Including navigation: 'OrderItem.CarModel'.
2025-09-27 16:14:44.164 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Order.OrderId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.BuyerId (Guid) Required FK Index, 1], [Property: Order.EmployeeId (Guid) Required FK Index, 2], [Property: Order.OrderAddress (OrderAddress) Required, 3], [Property: Order.OrderCompletionDate (DateTime?), 4], [Property: Order.OrderCreateDate (DateTime) Required, 5], [Property: Order.OrderPrice (decimal) Required, 6] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: OrderItem.OrderItemId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: OrderItem.CarModelId (Guid) Required FK Index, 8], [Property: OrderItem.OrderId (Guid) Required FK Index, 9], [Property: OrderItem.OrderItemComments (string), 10], [Property: OrderItem.OrderQuantity (long) Required, 11], [Property: OrderItem.UnitPrice (decimal) Required, 12] }
            3 -> Dictionary<IProperty, int> { [Property: CarModel.CarModelId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: CarModel.CarColor (string) Required, 14], [Property: CarModel.CarConfiguration (CarConfiguration) Required, 15], [Property: CarModel.CarCountry (string) Required, 16], [Property: CarModel.CarEngine (Engine), 17], [Property: CarModel.CarManufacturer (string) Required Index, 18], [Property: CarModel.CarModelName (string) Required Index, 19], [Property: CarModel.CarPrice (decimal) Required, 20], [Property: CarModel.ProductionDateTime (DateTime) Required, 21] }
            4 -> 7
            5 -> 13
        SELECT o.order_id, o.BuyerId, o.EmployeeId, o.order_delivery_address, o.order_completion_date, o.order_create_date, o.order_price, t.orderitem_id, t.CarModelId, t.OrderId, t.comments, t.order_quantity, t.unit_price, t.car_id, t.car_color, t.car_configuration, t.car_country, t.car_engine, t.car_manufacturer, t.car_model, t.car_price, t.car_productionDateTime
        FROM Orders AS o
        LEFT JOIN 
        (
            SELECT o0.orderitem_id, o0.CarModelId, o0.OrderId, o0.comments, o0.order_quantity, o0.unit_price, c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c.car_productionDateTime
            FROM OrderItems AS o0
            INNER JOIN CarModels AS c ON o0.CarModelId == c.car_id
        ) AS t ON o.order_id == t.OrderId
        ORDER BY o.order_id ASC, t.orderitem_id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    CarsTradeAPI.Data.CarsTradeDbContext, 
    False, 
    False, 
    True
)'
2025-09-27 16:14:44.183 +03:00 [DBG] Creating DbConnection.
2025-09-27 16:14:44.185 +03:00 [DBG] Created DbConnection. (1ms).
2025-09-27 16:14:44.187 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:14:44.284 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:14:44.286 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:14:44.290 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-09-27 16:14:44.290 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-09-27 16:14:44.294 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o.order_id, o."BuyerId", o."EmployeeId", o.order_delivery_address, o.order_completion_date, o.order_create_date, o.order_price, t.orderitem_id, t."CarModelId", t."OrderId", t.comments, t.order_quantity, t.unit_price, t.car_id, t.car_color, t.car_configuration, t.car_country, t.car_engine, t.car_manufacturer, t.car_model, t.car_price, t."car_productionDateTime"
FROM "Orders" AS o
LEFT JOIN (
    SELECT o0.orderitem_id, o0."CarModelId", o0."OrderId", o0.comments, o0.order_quantity, o0.unit_price, c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
    FROM "OrderItems" AS o0
    INNER JOIN "CarModels" AS c ON o0."CarModelId" = c.car_id
) AS t ON o.order_id = t."OrderId"
ORDER BY o.order_id, t.orderitem_id
2025-09-27 16:14:44.320 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o.order_id, o."BuyerId", o."EmployeeId", o.order_delivery_address, o.order_completion_date, o.order_create_date, o.order_price, t.orderitem_id, t."CarModelId", t."OrderId", t.comments, t.order_quantity, t.unit_price, t.car_id, t.car_color, t.car_configuration, t.car_country, t.car_engine, t.car_manufacturer, t.car_model, t.car_price, t."car_productionDateTime"
FROM "Orders" AS o
LEFT JOIN (
    SELECT o0.orderitem_id, o0."CarModelId", o0."OrderId", o0.comments, o0.order_quantity, o0.unit_price, c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
    FROM "OrderItems" AS o0
    INNER JOIN "CarModels" AS c ON o0."CarModelId" = c.car_id
) AS t ON o.order_id = t."OrderId"
ORDER BY o.order_id, t.orderitem_id
2025-09-27 16:14:44.383 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.411 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.431 +03:00 [DBG] The navigation 'OrderItem.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.432 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.440 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.441 +03:00 [DBG] The navigation 'OrderItem.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.441 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.441 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.441 +03:00 [DBG] The navigation 'OrderItem.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.441 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.442 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.442 +03:00 [DBG] The navigation 'OrderItem.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.442 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.442 +03:00 [DBG] The navigation 'OrderItem.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.443 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.443 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.443 +03:00 [DBG] The navigation 'OrderItem.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.443 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.443 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.443 +03:00 [DBG] The navigation 'OrderItem.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.443 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.443 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.443 +03:00 [DBG] The navigation 'OrderItem.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.444 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.444 +03:00 [DBG] The navigation 'OrderItem.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.444 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:14:44.446 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:14:44.451 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 128ms reading results.
2025-09-27 16:14:44.453 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:14:44.455 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (2ms).
2025-09-27 16:14:44.464 +03:00 [INF] Успешное получение 5 заказов
2025-09-27 16:14:44.468 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-27 16:14:44.469 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-27 16:14:44.469 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-27 16:14:44.470 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-27 16:14:44.470 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-27 16:14:44.470 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-27 16:14:44.470 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarsTradeAPI.Features.OrdersOperation.OrdersDto.ShowOrderDto, CarsTradeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-27 16:14:44.488 +03:00 [INF] Executed action CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI) in 1122.0808ms
2025-09-27 16:14:44.488 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)'
2025-09-27 16:14:44.490 +03:00 [DBG] Connection ID "18158513698363146245" disconnecting.
2025-09-27 16:14:44.491 +03:00 [DBG] 'CarsTradeDbContext' disposed.
2025-09-27 16:14:44.493 +03:00 [DBG] Disposing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:14:44.494 +03:00 [DBG] Disposed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (1ms).
2025-09-27 16:14:44.494 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/api/Orders/GetAllOrders/All - 200 null application/json; charset=utf-8 1165.2874ms
2025-09-27 16:15:20.474 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/api/CarInventory/GetCarInventory/All - null null
2025-09-27 16:15:20.476 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CarInventory/GetCarInventory/All'
2025-09-27 16:15:20.477 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController.GetAllCarInventories (CarsTradeAPI)' with route pattern 'api/CarInventory/GetCarInventory/All' is valid for the request path '/api/CarInventory/GetCarInventory/All'
2025-09-27 16:15:20.477 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController.GetAllCarInventories (CarsTradeAPI)'
2025-09-27 16:15:20.479 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:15:20.479 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 16:15:20.480 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController.GetAllCarInventories (CarsTradeAPI)'
2025-09-27 16:15:20.484 +03:00 [INF] Route matched with {action = "GetAllCarInventories", controller = "CarInventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CarsTradeAPI.Features.CarInventoryOperation.CarInventoryDto.ShowCarInventoryDto]]] GetAllCarInventories() on controller CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController (CarsTradeAPI).
2025-09-27 16:15:20.484 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 16:15:20.484 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 16:15:20.484 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 16:15:20.484 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 16:15:20.484 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 16:15:20.484 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController (CarsTradeAPI)
2025-09-27 16:15:20.486 +03:00 [DBG] Executed controller factory for controller CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController (CarsTradeAPI)
2025-09-27 16:15:20.489 +03:00 [INF] Получен запрос на получение всех CarInventory
2025-09-27 16:15:20.492 +03:00 [INF] Начало обработки команды GetCarInventoryQuery
2025-09-27 16:15:20.492 +03:00 [INF] Этап получения всех объектов CarInventory в репозитории
2025-09-27 16:15:20.508 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'CarsTradeDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: None
2025-09-27 16:15:20.508 +03:00 [DBG] Compiling query expression: 
'DbSet<CarInventory>()'
2025-09-27 16:15:20.513 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CarInventory>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CarInventory.InventoryId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CarInventory.CarModelId (Guid) Required FK Index, 1], [Property: CarInventory.LastUpdated (DateTime) Required, 2], [Property: CarInventory.Location (string) Required, 3], [Property: CarInventory.Quantity (uint) Required, 4] }
        SELECT c.inventory_id, c.car_model_id, c.last_updated, c.location, c.quantity
        FROM CarInventories AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CarInventory>, 
    CarsTradeAPI.Data.CarsTradeDbContext, 
    False, 
    False, 
    True
)'
2025-09-27 16:15:20.513 +03:00 [DBG] Creating DbConnection.
2025-09-27 16:15:20.513 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-27 16:15:20.513 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.514 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.514 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:15:20.514 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:15:20.514 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:15:20.514 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.inventory_id, c.car_model_id, c.last_updated, c.location, c.quantity
FROM "CarInventories" AS c
2025-09-27 16:15:20.521 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.inventory_id, c.car_model_id, c.last_updated, c.location, c.quantity
FROM "CarInventories" AS c
2025-09-27 16:15:20.523 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarInventory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:15:20.527 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarInventory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:15:20.527 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarInventory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:15:20.527 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarInventory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:15:20.527 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarInventory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:15:20.528 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.528 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
2025-09-27 16:15:20.528 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.528 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:15:20.528 +03:00 [INF] Все объекты CarInventory успешно получены
2025-09-27 16:15:20.533 +03:00 [INF] Этап получения CarModel с ID: "27f04600-a8c2-460b-98bc-44d9acf0d86e" в репозитории
2025-09-27 16:15:20.536 +03:00 [DBG] Compiling query expression: 
'DbSet<CarModel>()
    .FirstOrDefault(id => id.CarModelId == __CarModelId_0)'
2025-09-27 16:15:20.544 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CarModel>(
    asyncEnumerable: new SingleQueryingEnumerable<CarModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CarModel.CarModelId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CarModel.CarColor (string) Required, 1], [Property: CarModel.CarConfiguration (CarConfiguration) Required, 2], [Property: CarModel.CarCountry (string) Required, 3], [Property: CarModel.CarEngine (Engine), 4], [Property: CarModel.CarManufacturer (string) Required Index, 5], [Property: CarModel.CarModelName (string) Required Index, 6], [Property: CarModel.CarPrice (decimal) Required, 7], [Property: CarModel.ProductionDateTime (DateTime) Required, 8] }
            SELECT TOP(1) c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c.car_productionDateTime
            FROM CarModels AS c
            WHERE c.car_id == @__CarModelId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CarModel>, 
        CarsTradeAPI.Data.CarsTradeDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-27 16:15:20.548 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.548 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.548 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:15:20.548 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:15:20.551 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-09-27 16:15:20.552 +03:00 [DBG] Executing DbCommand [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:15:20.559 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:15:20.561 +03:00 [DBG] The navigation 'CarInventory.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:15:20.561 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:15:20.562 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.562 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 3ms reading results.
2025-09-27 16:15:20.562 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.562 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:15:20.563 +03:00 [INF] Модель машины с ID: "27f04600-a8c2-460b-98bc-44d9acf0d86e" успешно получена
2025-09-27 16:15:20.565 +03:00 [INF] Этап получения CarModel с ID: "405686f3-ac94-4556-a288-6fe1656f9a37" в репозитории
2025-09-27 16:15:20.566 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.566 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.566 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:15:20.566 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:15:20.566 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:15:20.567 +03:00 [DBG] Executing DbCommand [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:15:20.568 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:15:20.569 +03:00 [DBG] The navigation 'CarInventory.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:15:20.569 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:15:20.569 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.569 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-09-27 16:15:20.569 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.569 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:15:20.569 +03:00 [INF] Модель машины с ID: "405686f3-ac94-4556-a288-6fe1656f9a37" успешно получена
2025-09-27 16:15:20.570 +03:00 [INF] Этап получения CarModel с ID: "56cd40a6-d5ce-4a20-8542-a214b09e4a10" в репозитории
2025-09-27 16:15:20.570 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.570 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.570 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:15:20.570 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:15:20.570 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:15:20.570 +03:00 [DBG] Executing DbCommand [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:15:20.572 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:15:20.572 +03:00 [DBG] The navigation 'CarInventory.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:15:20.572 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:15:20.573 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.573 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-09-27 16:15:20.573 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.573 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:15:20.573 +03:00 [INF] Модель машины с ID: "56cd40a6-d5ce-4a20-8542-a214b09e4a10" успешно получена
2025-09-27 16:15:20.573 +03:00 [INF] Этап получения CarModel с ID: "87c97f28-514f-4216-9707-c74fe75b8ae5" в репозитории
2025-09-27 16:15:20.573 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.573 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.573 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:15:20.573 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:15:20.573 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:15:20.574 +03:00 [DBG] Executing DbCommand [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:15:20.575 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:15:20.576 +03:00 [DBG] The navigation 'CarInventory.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:15:20.576 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:15:20.576 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.576 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-09-27 16:15:20.576 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.576 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:15:20.576 +03:00 [INF] Модель машины с ID: "87c97f28-514f-4216-9707-c74fe75b8ae5" успешно получена
2025-09-27 16:15:20.576 +03:00 [INF] Этап получения CarModel с ID: "86213658-d276-4937-b3bb-4516d96949c9" в репозитории
2025-09-27 16:15:20.576 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.577 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.577 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:15:20.577 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:15:20.577 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:15:20.577 +03:00 [DBG] Executing DbCommand [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:15:20.580 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:15:20.581 +03:00 [DBG] The navigation 'CarInventory.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:15:20.581 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:15:20.581 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.582 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-09-27 16:15:20.582 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.582 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:15:20.582 +03:00 [INF] Модель машины с ID: "86213658-d276-4937-b3bb-4516d96949c9" успешно получена
2025-09-27 16:15:20.583 +03:00 [INF] Успешное получение списка CarInventory, количество элементов: 5
2025-09-27 16:15:20.583 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-27 16:15:20.583 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-27 16:15:20.584 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-27 16:15:20.584 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-27 16:15:20.584 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-27 16:15:20.584 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-27 16:15:20.584 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarsTradeAPI.Features.CarInventoryOperation.CarInventoryDto.ShowCarInventoryDto, CarsTradeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-27 16:15:20.595 +03:00 [INF] Executed action CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController.GetAllCarInventories (CarsTradeAPI) in 110.1614ms
2025-09-27 16:15:20.595 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController.GetAllCarInventories (CarsTradeAPI)'
2025-09-27 16:15:20.595 +03:00 [DBG] 'CarsTradeDbContext' disposed.
2025-09-27 16:15:20.596 +03:00 [DBG] Disposing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:15:20.596 +03:00 [DBG] Disposed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (1ms).
2025-09-27 16:15:20.599 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/api/CarInventory/GetCarInventory/All - 200 null application/json; charset=utf-8 124.2607ms
2025-09-27 16:15:20.600 +03:00 [DBG] Connection ID "18302628890733969426" disconnecting.
2025-09-27 16:22:19.754 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44394/api/OrderItems/AddOrderItem - application/json 172
2025-09-27 16:22:19.786 +03:00 [DBG] 1 candidate(s) found for the request path '/api/OrderItems/AddOrderItem'
2025-09-27 16:22:19.787 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.OrdersOperation.OrderItemsController.AddOrderItems (CarsTradeAPI)' with route pattern 'api/OrderItems/AddOrderItem' is valid for the request path '/api/OrderItems/AddOrderItem'
2025-09-27 16:22:19.787 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.OrdersOperation.OrderItemsController.AddOrderItems (CarsTradeAPI)'
2025-09-27 16:22:19.787 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:22:19.787 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 16:22:19.788 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.OrdersOperation.OrderItemsController.AddOrderItems (CarsTradeAPI)'
2025-09-27 16:22:19.796 +03:00 [INF] Route matched with {action = "AddOrderItems", controller = "OrderItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CarsTradeAPI.Features.OrdersOperation.OrdersDto.ShowOrderDto]] AddOrderItems(CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand) on controller CarsTradeAPI.Features.OrdersOperation.OrderItemsController (CarsTradeAPI).
2025-09-27 16:22:19.796 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 16:22:19.796 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 16:22:19.796 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 16:22:19.796 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 16:22:19.797 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 16:22:19.797 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.OrdersOperation.OrderItemsController (CarsTradeAPI)
2025-09-27 16:22:19.799 +03:00 [INF] Executed action CarsTradeAPI.Features.OrdersOperation.OrderItemsController.AddOrderItems (CarsTradeAPI) in 2.1779ms
2025-09-27 16:22:19.799 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.OrdersOperation.OrderItemsController.AddOrderItems (CarsTradeAPI)'
2025-09-27 16:22:19.801 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.Extensions.Logging.ILogger' while attempting to activate 'CarsTradeAPI.Features.OrdersOperation.OrderItemsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method224(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-09-27 16:22:19.821 +03:00 [DBG] Connection ID "18374686489066864652" disconnecting.
2025-09-27 16:22:19.821 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44394/api/OrderItems/AddOrderItem - 500 null text/plain; charset=utf-8 70.8402ms
2025-09-27 16:31:34.543 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-27 16:31:34.616 +03:00 [DBG] Hosting starting
2025-09-27 16:31:34.632 +03:00 [INF] User profile is available. Using 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-27 16:31:34.642 +03:00 [DBG] Reading data from file 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys\key-054e4f4f-034f-4178-b80f-9acafa555bb9.xml'.
2025-09-27 16:31:34.650 +03:00 [DBG] Reading data from file 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys\key-bd51bb47-76a7-46e8-9e05-b4ffb5832e51.xml'.
2025-09-27 16:31:34.652 +03:00 [DBG] Found key {054e4f4f-034f-4178-b80f-9acafa555bb9}.
2025-09-27 16:31:34.654 +03:00 [DBG] Found key {bd51bb47-76a7-46e8-9e05-b4ffb5832e51}.
2025-09-27 16:31:34.657 +03:00 [DBG] Considering key {054e4f4f-034f-4178-b80f-9acafa555bb9} with expiration date 2025-10-09 12:57:51Z as default key.
2025-09-27 16:31:34.659 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-27 16:31:34.660 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-27 16:31:34.661 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-27 16:31:34.664 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-27 16:31:34.664 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-27 16:31:34.665 +03:00 [DBG] Using key {054e4f4f-034f-4178-b80f-9acafa555bb9} as the default key.
2025-09-27 16:31:34.666 +03:00 [DBG] Key ring with default key {054e4f4f-034f-4178-b80f-9acafa555bb9} was loaded during application startup.
2025-09-27 16:31:34.669 +03:00 [DBG] Middleware loaded
2025-09-27 16:31:34.670 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16509 B).
2025-09-27 16:31:34.670 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-27 16:31:34.722 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-27 16:31:34.725 +03:00 [DBG] Loaded hosting startup assembly CarsTradeAPI
2025-09-27 16:31:34.725 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-27 16:31:34.725 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-27 16:31:34.725 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-27 16:31:34.754 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/swagger/index.html - null null
2025-09-27 16:31:34.829 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-27 16:31:34.830 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-27 16:31:34.830 +03:00 [INF] Hosting environment: Development
2025-09-27 16:31:34.830 +03:00 [INF] Content root path: B:\MyDevelopment\MyRepos\CarsTradeAPI\CarsTradeAPI
2025-09-27 16:31:34.830 +03:00 [DBG] Hosting started
2025-09-27 16:31:34.846 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-27 16:31:34.846 +03:00 [DBG] Request did not match any endpoints
2025-09-27 16:31:34.887 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:31:34.924 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-27 16:31:34.925 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-27 16:31:34.950 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-27 16:31:34.950 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-27 16:31:34.953 +03:00 [DBG] Connection ID "18302628912208805896" disconnecting.
2025-09-27 16:31:34.954 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/swagger/index.html - 200 null text/html;charset=utf-8 205.7108ms
2025-09-27 16:31:34.961 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/_vs/browserLink - null null
2025-09-27 16:31:34.961 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/_framework/aspnetcore-browser-refresh.js - null null
2025-09-27 16:31:34.963 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-27 16:31:34.964 +03:00 [DBG] Connection ID "18158513698363146247" disconnecting.
2025-09-27 16:31:34.964 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 2.5353ms
2025-09-27 16:31:34.984 +03:00 [DBG] Connection ID "18302628937978609672" disconnecting.
2025-09-27 16:31:34.984 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.0389ms
2025-09-27 16:31:35.031 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/swagger/v1/swagger.json - null null
2025-09-27 16:31:35.031 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-27 16:31:35.031 +03:00 [DBG] Request did not match any endpoints
2025-09-27 16:31:35.032 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:31:35.049 +03:00 [DBG] Connection ID "18374686514836668440" disconnecting.
2025-09-27 16:31:35.049 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.1638ms
2025-09-27 16:31:53.588 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/api/Orders/GetAllOrders/All - null null
2025-09-27 16:31:53.592 +03:00 [DBG] 1 candidate(s) found for the request path '/api/Orders/GetAllOrders/All'
2025-09-27 16:31:53.595 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)' with route pattern 'api/Orders/GetAllOrders/All' is valid for the request path '/api/Orders/GetAllOrders/All'
2025-09-27 16:31:53.597 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)'
2025-09-27 16:31:53.600 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:31:53.602 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 16:31:53.604 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)'
2025-09-27 16:31:53.624 +03:00 [INF] Route matched with {action = "GetAllOrders", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CarsTradeAPI.Features.OrdersOperation.OrdersDto.ShowOrderDto]]] GetAllOrders() on controller CarsTradeAPI.Features.OrdersOperation.OrdersController (CarsTradeAPI).
2025-09-27 16:31:53.625 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 16:31:53.625 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 16:31:53.625 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 16:31:53.625 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 16:31:53.626 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 16:31:53.627 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.OrdersOperation.OrdersController (CarsTradeAPI)
2025-09-27 16:31:53.628 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-27 16:31:53.629 +03:00 [DBG] Executed controller factory for controller CarsTradeAPI.Features.OrdersOperation.OrdersController (CarsTradeAPI)
2025-09-27 16:31:53.630 +03:00 [INF] Получение запроса на выдачу всех заказов
2025-09-27 16:31:53.825 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-27 16:31:53.838 +03:00 [INF] Начало обработки команды GetAllOrdersQuery
2025-09-27 16:31:54.311 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'CarsTradeDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: None
2025-09-27 16:31:54.333 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Include(o => o.OrderItems)
    .ThenInclude(oi => oi.CarModel)'
2025-09-27 16:31:54.372 +03:00 [DBG] Including navigation: 'Order.OrderItems'.
2025-09-27 16:31:54.386 +03:00 [DBG] Including navigation: 'OrderItem.CarModel'.
2025-09-27 16:31:54.599 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Order>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Order.OrderId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.BuyerId (Guid) Required FK Index, 1], [Property: Order.EmployeeId (Guid) Required FK Index, 2], [Property: Order.OrderAddress (OrderAddress) Required, 3], [Property: Order.OrderCompletionDate (DateTime?), 4], [Property: Order.OrderCreateDate (DateTime) Required, 5], [Property: Order.OrderPrice (decimal) Required, 6] }
            1 -> 0
            2 -> Dictionary<IProperty, int> { [Property: OrderItem.OrderItemId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: OrderItem.CarModelId (Guid) Required FK Index, 8], [Property: OrderItem.OrderId (Guid) Required FK Index, 9], [Property: OrderItem.OrderItemComments (string), 10], [Property: OrderItem.OrderQuantity (long) Required, 11], [Property: OrderItem.UnitPrice (decimal) Required, 12] }
            3 -> Dictionary<IProperty, int> { [Property: CarModel.CarModelId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: CarModel.CarColor (string) Required, 14], [Property: CarModel.CarConfiguration (CarConfiguration) Required, 15], [Property: CarModel.CarCountry (string) Required, 16], [Property: CarModel.CarEngine (Engine), 17], [Property: CarModel.CarManufacturer (string) Required Index, 18], [Property: CarModel.CarModelName (string) Required Index, 19], [Property: CarModel.CarPrice (decimal) Required, 20], [Property: CarModel.ProductionDateTime (DateTime) Required, 21] }
            4 -> 7
            5 -> 13
        SELECT o.order_id, o.BuyerId, o.EmployeeId, o.order_delivery_address, o.order_completion_date, o.order_create_date, o.order_price, t.orderitem_id, t.CarModelId, t.OrderId, t.comments, t.order_quantity, t.unit_price, t.car_id, t.car_color, t.car_configuration, t.car_country, t.car_engine, t.car_manufacturer, t.car_model, t.car_price, t.car_productionDateTime
        FROM Orders AS o
        LEFT JOIN 
        (
            SELECT o0.orderitem_id, o0.CarModelId, o0.OrderId, o0.comments, o0.order_quantity, o0.unit_price, c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c.car_productionDateTime
            FROM OrderItems AS o0
            INNER JOIN CarModels AS c ON o0.CarModelId == c.car_id
        ) AS t ON o.order_id == t.OrderId
        ORDER BY o.order_id ASC, t.orderitem_id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
    CarsTradeAPI.Data.CarsTradeDbContext, 
    False, 
    False, 
    True
)'
2025-09-27 16:31:54.630 +03:00 [DBG] Creating DbConnection.
2025-09-27 16:31:54.634 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-27 16:31:54.637 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:31:54.741 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:31:54.744 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:31:54.748 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-27 16:31:54.749 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2025-09-27 16:31:54.753 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o.order_id, o."BuyerId", o."EmployeeId", o.order_delivery_address, o.order_completion_date, o.order_create_date, o.order_price, t.orderitem_id, t."CarModelId", t."OrderId", t.comments, t.order_quantity, t.unit_price, t.car_id, t.car_color, t.car_configuration, t.car_country, t.car_engine, t.car_manufacturer, t.car_model, t.car_price, t."car_productionDateTime"
FROM "Orders" AS o
LEFT JOIN (
    SELECT o0.orderitem_id, o0."CarModelId", o0."OrderId", o0.comments, o0.order_quantity, o0.unit_price, c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
    FROM "OrderItems" AS o0
    INNER JOIN "CarModels" AS c ON o0."CarModelId" = c.car_id
) AS t ON o.order_id = t."OrderId"
ORDER BY o.order_id, t.orderitem_id
2025-09-27 16:31:54.777 +03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT o.order_id, o."BuyerId", o."EmployeeId", o.order_delivery_address, o.order_completion_date, o.order_create_date, o.order_price, t.orderitem_id, t."CarModelId", t."OrderId", t.comments, t.order_quantity, t.unit_price, t.car_id, t.car_color, t.car_configuration, t.car_country, t.car_engine, t.car_manufacturer, t.car_model, t.car_price, t."car_productionDateTime"
FROM "Orders" AS o
LEFT JOIN (
    SELECT o0.orderitem_id, o0."CarModelId", o0."OrderId", o0.comments, o0.order_quantity, o0.unit_price, c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
    FROM "OrderItems" AS o0
    INNER JOIN "CarModels" AS c ON o0."CarModelId" = c.car_id
) AS t ON o.order_id = t."OrderId"
ORDER BY o.order_id, t.orderitem_id
2025-09-27 16:31:54.850 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.883 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.901 +03:00 [DBG] The navigation 'OrderItem.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.903 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.911 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.912 +03:00 [DBG] The navigation 'OrderItem.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.912 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.912 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.912 +03:00 [DBG] The navigation 'OrderItem.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.912 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.913 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.913 +03:00 [DBG] The navigation 'OrderItem.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.913 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.914 +03:00 [DBG] The navigation 'OrderItem.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.914 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.914 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.914 +03:00 [DBG] The navigation 'OrderItem.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.914 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.914 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.914 +03:00 [DBG] The navigation 'OrderItem.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.914 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.914 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.915 +03:00 [DBG] The navigation 'OrderItem.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.915 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.915 +03:00 [DBG] The navigation 'OrderItem.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.915 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:31:54.918 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:31:54.923 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 142ms reading results.
2025-09-27 16:31:54.926 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:31:54.930 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (2ms).
2025-09-27 16:31:54.940 +03:00 [INF] Успешное получение 5 заказов
2025-09-27 16:31:54.944 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-27 16:31:54.945 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-27 16:31:54.945 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-27 16:31:54.946 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-27 16:31:54.946 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-27 16:31:54.946 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-27 16:31:54.946 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarsTradeAPI.Features.OrdersOperation.OrdersDto.ShowOrderDto, CarsTradeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-27 16:31:54.964 +03:00 [INF] Executed action CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI) in 1336.8064ms
2025-09-27 16:31:54.965 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.OrdersOperation.OrdersController.GetAllOrders (CarsTradeAPI)'
2025-09-27 16:31:54.966 +03:00 [DBG] Connection ID "18302628937978609674" disconnecting.
2025-09-27 16:31:54.967 +03:00 [DBG] 'CarsTradeDbContext' disposed.
2025-09-27 16:31:54.969 +03:00 [DBG] Disposing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:31:54.970 +03:00 [DBG] Disposed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:31:54.970 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/api/Orders/GetAllOrders/All - 200 null application/json; charset=utf-8 1382.781ms
2025-09-27 16:32:19.167 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/api/CarInventory/GetCarInventory/All - null null
2025-09-27 16:32:19.169 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CarInventory/GetCarInventory/All'
2025-09-27 16:32:19.169 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController.GetAllCarInventories (CarsTradeAPI)' with route pattern 'api/CarInventory/GetCarInventory/All' is valid for the request path '/api/CarInventory/GetCarInventory/All'
2025-09-27 16:32:19.170 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController.GetAllCarInventories (CarsTradeAPI)'
2025-09-27 16:32:19.172 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:32:19.173 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 16:32:19.174 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController.GetAllCarInventories (CarsTradeAPI)'
2025-09-27 16:32:19.177 +03:00 [INF] Route matched with {action = "GetAllCarInventories", controller = "CarInventory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CarsTradeAPI.Features.CarInventoryOperation.CarInventoryDto.ShowCarInventoryDto]]] GetAllCarInventories() on controller CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController (CarsTradeAPI).
2025-09-27 16:32:19.178 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 16:32:19.178 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 16:32:19.178 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 16:32:19.178 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 16:32:19.178 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 16:32:19.178 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController (CarsTradeAPI)
2025-09-27 16:32:19.179 +03:00 [DBG] Executed controller factory for controller CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController (CarsTradeAPI)
2025-09-27 16:32:19.180 +03:00 [INF] Получен запрос на получение всех CarInventory
2025-09-27 16:32:19.184 +03:00 [INF] Начало обработки команды GetCarInventoryQuery
2025-09-27 16:32:19.185 +03:00 [INF] Этап получения всех объектов CarInventory в репозитории
2025-09-27 16:32:19.204 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'CarsTradeDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: None
2025-09-27 16:32:19.205 +03:00 [DBG] Compiling query expression: 
'DbSet<CarInventory>()'
2025-09-27 16:32:19.210 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CarInventory>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CarInventory.InventoryId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CarInventory.CarModelId (Guid) Required FK Index, 1], [Property: CarInventory.LastUpdated (DateTime) Required, 2], [Property: CarInventory.Location (string) Required, 3], [Property: CarInventory.Quantity (uint) Required, 4] }
        SELECT c.inventory_id, c.car_model_id, c.last_updated, c.location, c.quantity
        FROM CarInventories AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CarInventory>, 
    CarsTradeAPI.Data.CarsTradeDbContext, 
    False, 
    False, 
    True
)'
2025-09-27 16:32:19.211 +03:00 [DBG] Creating DbConnection.
2025-09-27 16:32:19.211 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-27 16:32:19.211 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.212 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.212 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:32:19.212 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:19.212 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:19.212 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.inventory_id, c.car_model_id, c.last_updated, c.location, c.quantity
FROM "CarInventories" AS c
2025-09-27 16:32:19.217 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.inventory_id, c.car_model_id, c.last_updated, c.location, c.quantity
FROM "CarInventories" AS c
2025-09-27 16:32:19.224 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarInventory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:19.229 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarInventory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:19.229 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarInventory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:19.230 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarInventory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:19.230 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarInventory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:19.230 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.230 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results.
2025-09-27 16:32:19.230 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.230 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:32:19.230 +03:00 [INF] Все объекты CarInventory успешно получены
2025-09-27 16:32:19.235 +03:00 [INF] Этап получения CarModel с ID: "27f04600-a8c2-460b-98bc-44d9acf0d86e" в репозитории
2025-09-27 16:32:19.239 +03:00 [DBG] Compiling query expression: 
'DbSet<CarModel>()
    .FirstOrDefault(id => id.CarModelId == __CarModelId_0)'
2025-09-27 16:32:19.246 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CarModel>(
    asyncEnumerable: new SingleQueryingEnumerable<CarModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CarModel.CarModelId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CarModel.CarColor (string) Required, 1], [Property: CarModel.CarConfiguration (CarConfiguration) Required, 2], [Property: CarModel.CarCountry (string) Required, 3], [Property: CarModel.CarEngine (Engine), 4], [Property: CarModel.CarManufacturer (string) Required Index, 5], [Property: CarModel.CarModelName (string) Required Index, 6], [Property: CarModel.CarPrice (decimal) Required, 7], [Property: CarModel.ProductionDateTime (DateTime) Required, 8] }
            SELECT TOP(1) c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c.car_productionDateTime
            FROM CarModels AS c
            WHERE c.car_id == @__CarModelId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CarModel>, 
        CarsTradeAPI.Data.CarsTradeDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-27 16:32:19.249 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.250 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.250 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:32:19.250 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:19.252 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-27 16:32:19.253 +03:00 [DBG] Executing DbCommand [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:32:19.260 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:32:19.261 +03:00 [DBG] The navigation 'CarInventory.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:19.262 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:19.263 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.263 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-09-27 16:32:19.263 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.263 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:32:19.263 +03:00 [INF] Модель машины с ID: "27f04600-a8c2-460b-98bc-44d9acf0d86e" успешно получена
2025-09-27 16:32:19.265 +03:00 [INF] Этап получения CarModel с ID: "405686f3-ac94-4556-a288-6fe1656f9a37" в репозитории
2025-09-27 16:32:19.267 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.267 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.267 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:32:19.267 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:19.267 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:19.267 +03:00 [DBG] Executing DbCommand [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:32:19.269 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:32:19.270 +03:00 [DBG] The navigation 'CarInventory.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:19.270 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:19.270 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.270 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-09-27 16:32:19.270 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.270 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:32:19.270 +03:00 [INF] Модель машины с ID: "405686f3-ac94-4556-a288-6fe1656f9a37" успешно получена
2025-09-27 16:32:19.271 +03:00 [INF] Этап получения CarModel с ID: "56cd40a6-d5ce-4a20-8542-a214b09e4a10" в репозитории
2025-09-27 16:32:19.271 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.271 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.271 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:32:19.271 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:19.272 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:19.272 +03:00 [DBG] Executing DbCommand [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:32:19.273 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:32:19.274 +03:00 [DBG] The navigation 'CarInventory.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:19.274 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:19.274 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.274 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-09-27 16:32:19.274 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.274 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:32:19.274 +03:00 [INF] Модель машины с ID: "56cd40a6-d5ce-4a20-8542-a214b09e4a10" успешно получена
2025-09-27 16:32:19.274 +03:00 [INF] Этап получения CarModel с ID: "87c97f28-514f-4216-9707-c74fe75b8ae5" в репозитории
2025-09-27 16:32:19.274 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.274 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.274 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:32:19.275 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:19.275 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:19.275 +03:00 [DBG] Executing DbCommand [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:32:19.276 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:32:19.277 +03:00 [DBG] The navigation 'CarInventory.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:19.277 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:19.277 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.277 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-09-27 16:32:19.277 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.277 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:32:19.277 +03:00 [INF] Модель машины с ID: "87c97f28-514f-4216-9707-c74fe75b8ae5" успешно получена
2025-09-27 16:32:19.277 +03:00 [INF] Этап получения CarModel с ID: "86213658-d276-4937-b3bb-4516d96949c9" в репозитории
2025-09-27 16:32:19.277 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.278 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.278 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:32:19.278 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:19.278 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:19.278 +03:00 [DBG] Executing DbCommand [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:32:19.279 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 16:32:19.280 +03:00 [DBG] The navigation 'CarInventory.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:19.280 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:19.280 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.281 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-09-27 16:32:19.281 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.281 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:32:19.281 +03:00 [INF] Модель машины с ID: "86213658-d276-4937-b3bb-4516d96949c9" успешно получена
2025-09-27 16:32:19.281 +03:00 [INF] Успешное получение списка CarInventory, количество элементов: 5
2025-09-27 16:32:19.281 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-27 16:32:19.281 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-27 16:32:19.281 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-27 16:32:19.281 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-27 16:32:19.281 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-27 16:32:19.282 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-27 16:32:19.282 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarsTradeAPI.Features.CarInventoryOperation.CarInventoryDto.ShowCarInventoryDto, CarsTradeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-27 16:32:19.289 +03:00 [INF] Executed action CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController.GetAllCarInventories (CarsTradeAPI) in 111.056ms
2025-09-27 16:32:19.289 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.CarInventoryOperation.CarInventoryController.GetAllCarInventories (CarsTradeAPI)'
2025-09-27 16:32:19.290 +03:00 [DBG] Connection ID "18374686514836668442" disconnecting.
2025-09-27 16:32:19.290 +03:00 [DBG] 'CarsTradeDbContext' disposed.
2025-09-27 16:32:19.290 +03:00 [DBG] Disposing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:19.290 +03:00 [DBG] Disposed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:32:19.290 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/api/CarInventory/GetCarInventory/All - 200 null application/json; charset=utf-8 123.1895ms
2025-09-27 16:32:49.136 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44394/api/OrderItems/AddOrderItem - application/json 166
2025-09-27 16:32:49.137 +03:00 [DBG] 1 candidate(s) found for the request path '/api/OrderItems/AddOrderItem'
2025-09-27 16:32:49.137 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.OrdersOperation.OrderItemsController.AddOrderItems (CarsTradeAPI)' with route pattern 'api/OrderItems/AddOrderItem' is valid for the request path '/api/OrderItems/AddOrderItem'
2025-09-27 16:32:49.137 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.OrdersOperation.OrderItemsController.AddOrderItems (CarsTradeAPI)'
2025-09-27 16:32:49.137 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:32:49.137 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 16:32:49.138 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.OrdersOperation.OrderItemsController.AddOrderItems (CarsTradeAPI)'
2025-09-27 16:32:49.143 +03:00 [INF] Route matched with {action = "AddOrderItems", controller = "OrderItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CarsTradeAPI.Features.OrdersOperation.OrdersDto.ShowOrderDto]] AddOrderItems(CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand) on controller CarsTradeAPI.Features.OrdersOperation.OrderItemsController (CarsTradeAPI).
2025-09-27 16:32:49.143 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 16:32:49.143 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 16:32:49.144 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 16:32:49.144 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 16:32:49.144 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 16:32:49.144 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.OrdersOperation.OrderItemsController (CarsTradeAPI)
2025-09-27 16:32:49.144 +03:00 [DBG] Executed controller factory for controller CarsTradeAPI.Features.OrdersOperation.OrderItemsController (CarsTradeAPI)
2025-09-27 16:32:49.147 +03:00 [DBG] Attempting to bind parameter 'command' of type 'CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand' ...
2025-09-27 16:32:49.149 +03:00 [DBG] Attempting to bind parameter 'command' of type 'CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand' using the name '' in request data ...
2025-09-27 16:32:49.149 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-27 16:32:49.158 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand'
2025-09-27 16:32:49.159 +03:00 [DBG] Done attempting to bind parameter 'command' of type 'CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand'.
2025-09-27 16:32:49.159 +03:00 [DBG] Done attempting to bind parameter 'command' of type 'CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand'.
2025-09-27 16:32:49.159 +03:00 [DBG] Attempting to validate the bound parameter 'command' of type 'CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand' ...
2025-09-27 16:32:49.163 +03:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand'.
2025-09-27 16:32:49.164 +03:00 [INF] Получение запроса на добавление нового элемента заказа в заказ с ID: "870766ea-2d77-424e-bf69-736035661384"
2025-09-27 16:32:49.197 +03:00 [INF] Начало обработки команды CreateOrderItemCommand
2025-09-27 16:32:49.234 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'CarsTradeDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: None
2025-09-27 16:32:49.235 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Include(o => o.OrderItems)
    .ThenInclude(oi => oi.CarModel)
    .FirstOrDefault(o => o.OrderId == __orderId_0)'
2025-09-27 16:32:49.236 +03:00 [DBG] Including navigation: 'Order.OrderItems'.
2025-09-27 16:32:49.236 +03:00 [DBG] Including navigation: 'OrderItem.CarModel'.
2025-09-27 16:32:49.246 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Order>(
    asyncEnumerable: new SingleQueryingEnumerable<Order>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Order.OrderId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.BuyerId (Guid) Required FK Index, 1], [Property: Order.EmployeeId (Guid) Required FK Index, 2], [Property: Order.OrderAddress (OrderAddress) Required, 3], [Property: Order.OrderCompletionDate (DateTime?), 4], [Property: Order.OrderCreateDate (DateTime) Required, 5], [Property: Order.OrderPrice (decimal) Required, 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: OrderItem.OrderItemId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: OrderItem.CarModelId (Guid) Required FK Index, 8], [Property: OrderItem.OrderId (Guid) Required FK Index, 9], [Property: OrderItem.OrderItemComments (string), 10], [Property: OrderItem.OrderQuantity (long) Required, 11], [Property: OrderItem.UnitPrice (decimal) Required, 12] }
                3 -> Dictionary<IProperty, int> { [Property: CarModel.CarModelId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 13], [Property: CarModel.CarColor (string) Required, 14], [Property: CarModel.CarConfiguration (CarConfiguration) Required, 15], [Property: CarModel.CarCountry (string) Required, 16], [Property: CarModel.CarEngine (Engine), 17], [Property: CarModel.CarManufacturer (string) Required Index, 18], [Property: CarModel.CarModelName (string) Required Index, 19], [Property: CarModel.CarPrice (decimal) Required, 20], [Property: CarModel.ProductionDateTime (DateTime) Required, 21] }
                4 -> 7
                5 -> 13
            SELECT t.order_id, t.BuyerId, t.EmployeeId, t.order_delivery_address, t.order_completion_date, t.order_create_date, t.order_price, t0.orderitem_id, t0.CarModelId, t0.OrderId, t0.comments, t0.order_quantity, t0.unit_price, t0.car_id, t0.car_color, t0.car_configuration, t0.car_country, t0.car_engine, t0.car_manufacturer, t0.car_model, t0.car_price, t0.car_productionDateTime
            FROM 
            (
                SELECT TOP(1) o.order_id, o.BuyerId, o.EmployeeId, o.order_delivery_address, o.order_completion_date, o.order_create_date, o.order_price
                FROM Orders AS o
                WHERE o.order_id == @__orderId_0
            ) AS t
            LEFT JOIN 
            (
                SELECT o0.orderitem_id, o0.CarModelId, o0.OrderId, o0.comments, o0.order_quantity, o0.unit_price, c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c.car_productionDateTime
                FROM OrderItems AS o0
                INNER JOIN CarModels AS c ON o0.CarModelId == c.car_id
            ) AS t0 ON t.order_id == t0.OrderId
            ORDER BY t.order_id ASC, t0.orderitem_id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
        CarsTradeAPI.Data.CarsTradeDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-27 16:32:49.246 +03:00 [DBG] Creating DbConnection.
2025-09-27 16:32:49.246 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-27 16:32:49.246 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.246 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.246 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:32:49.246 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:49.246 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:49.246 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t.order_id, t."BuyerId", t."EmployeeId", t.order_delivery_address, t.order_completion_date, t.order_create_date, t.order_price, t0.orderitem_id, t0."CarModelId", t0."OrderId", t0.comments, t0.order_quantity, t0.unit_price, t0.car_id, t0.car_color, t0.car_configuration, t0.car_country, t0.car_engine, t0.car_manufacturer, t0.car_model, t0.car_price, t0."car_productionDateTime"
FROM (
    SELECT o.order_id, o."BuyerId", o."EmployeeId", o.order_delivery_address, o.order_completion_date, o.order_create_date, o.order_price
    FROM "Orders" AS o
    WHERE o.order_id = @__orderId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT o0.orderitem_id, o0."CarModelId", o0."OrderId", o0.comments, o0.order_quantity, o0.unit_price, c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
    FROM "OrderItems" AS o0
    INNER JOIN "CarModels" AS c ON o0."CarModelId" = c.car_id
) AS t0 ON t.order_id = t0."OrderId"
ORDER BY t.order_id, t0.orderitem_id
2025-09-27 16:32:49.249 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t.order_id, t."BuyerId", t."EmployeeId", t.order_delivery_address, t.order_completion_date, t.order_create_date, t.order_price, t0.orderitem_id, t0."CarModelId", t0."OrderId", t0.comments, t0.order_quantity, t0.unit_price, t0.car_id, t0.car_color, t0.car_configuration, t0.car_country, t0.car_engine, t0.car_manufacturer, t0.car_model, t0.car_price, t0."car_productionDateTime"
FROM (
    SELECT o.order_id, o."BuyerId", o."EmployeeId", o.order_delivery_address, o.order_completion_date, o.order_create_date, o.order_price
    FROM "Orders" AS o
    WHERE o.order_id = @__orderId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT o0.orderitem_id, o0."CarModelId", o0."OrderId", o0.comments, o0.order_quantity, o0.unit_price, c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
    FROM "OrderItems" AS o0
    INNER JOIN "CarModels" AS c ON o0."CarModelId" = c.car_id
) AS t0 ON t.order_id = t0."OrderId"
ORDER BY t.order_id, t0.orderitem_id
2025-09-27 16:32:49.251 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.252 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.252 +03:00 [DBG] The navigation 'OrderItem.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.252 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.252 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.252 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 2ms reading results.
2025-09-27 16:32:49.252 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.252 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:32:49.254 +03:00 [DBG] Compiling query expression: 
'DbSet<CarInventory>()
    .FirstOrDefault(ci => ci.CarModelId == __carModelId_0)'
2025-09-27 16:32:49.256 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CarInventory>(
    asyncEnumerable: new SingleQueryingEnumerable<CarInventory>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CarInventory.InventoryId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CarInventory.CarModelId (Guid) Required FK Index, 1], [Property: CarInventory.LastUpdated (DateTime) Required, 2], [Property: CarInventory.Location (string) Required, 3], [Property: CarInventory.Quantity (uint) Required, 4] }
            SELECT TOP(1) c.inventory_id, c.car_model_id, c.last_updated, c.location, c.quantity
            FROM CarInventories AS c
            WHERE c.car_model_id == @__carModelId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CarInventory>, 
        CarsTradeAPI.Data.CarsTradeDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-27 16:32:49.256 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.256 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.256 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:32:49.256 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:49.256 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:49.256 +03:00 [DBG] Executing DbCommand [Parameters=[@__carModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.inventory_id, c.car_model_id, c.last_updated, c.location, c.quantity
FROM "CarInventories" AS c
WHERE c.car_model_id = @__carModelId_0
LIMIT 1
2025-09-27 16:32:49.259 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__carModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.inventory_id, c.car_model_id, c.last_updated, c.location, c.quantity
FROM "CarInventories" AS c
WHERE c.car_model_id = @__carModelId_0
LIMIT 1
2025-09-27 16:32:49.259 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarInventory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.259 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.259 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-09-27 16:32:49.259 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.259 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:32:49.261 +03:00 [DBG] Compiling query expression: 
'DbSet<CarModel>()
    .FirstOrDefault(cm => (Guid?)cm.CarModelId == __carModelId_0)'
2025-09-27 16:32:49.263 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CarModel>(
    asyncEnumerable: new SingleQueryingEnumerable<CarModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CarModel.CarModelId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CarModel.CarColor (string) Required, 1], [Property: CarModel.CarConfiguration (CarConfiguration) Required, 2], [Property: CarModel.CarCountry (string) Required, 3], [Property: CarModel.CarEngine (Engine), 4], [Property: CarModel.CarManufacturer (string) Required Index, 5], [Property: CarModel.CarModelName (string) Required Index, 6], [Property: CarModel.CarPrice (decimal) Required, 7], [Property: CarModel.ProductionDateTime (DateTime) Required, 8] }
            SELECT TOP(1) c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c.car_productionDateTime
            FROM CarModels AS c
            WHERE c.car_id == @__carModelId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CarModel>, 
        CarsTradeAPI.Data.CarsTradeDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-27 16:32:49.263 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.263 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.263 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:32:49.263 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:49.263 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:49.263 +03:00 [DBG] Executing DbCommand [Parameters=[@__carModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__carModelId_0
LIMIT 1
2025-09-27 16:32:49.265 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__carModelId_0
LIMIT 1
2025-09-27 16:32:49.265 +03:00 [DBG] The navigation 'CarInventory.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.266 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.266 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.266 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-09-27 16:32:49.266 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.266 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:32:49.268 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.268 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.268 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:32:49.268 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:49.268 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:49.268 +03:00 [DBG] Executing DbCommand [Parameters=[@__carModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.inventory_id, c.car_model_id, c.last_updated, c.location, c.quantity
FROM "CarInventories" AS c
WHERE c.car_model_id = @__carModelId_0
LIMIT 1
2025-09-27 16:32:49.270 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__carModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.inventory_id, c.car_model_id, c.last_updated, c.location, c.quantity
FROM "CarInventories" AS c
WHERE c.car_model_id = @__carModelId_0
LIMIT 1
2025-09-27 16:32:49.270 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.270 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-09-27 16:32:49.270 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.270 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:32:49.277 +03:00 [DBG] An entity of type 'CarInventory' tracked by 'CarsTradeDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.279 +03:00 [DBG] SaveChanges starting for 'CarsTradeDbContext'.
2025-09-27 16:32:49.281 +03:00 [DBG] DetectChanges starting for 'CarsTradeDbContext'.
2025-09-27 16:32:49.303 +03:00 [DBG] DetectChanges completed for 'CarsTradeDbContext'.
2025-09-27 16:32:49.346 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.346 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.347 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:32:49.347 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:49.348 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-27 16:32:49.348 +03:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CarInventories" SET car_model_id = @p0, last_updated = @p1, location = @p2, quantity = @p3
WHERE inventory_id = @p4;
2025-09-27 16:32:49.361 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
UPDATE "CarInventories" SET car_model_id = @p0, last_updated = @p1, location = @p2, quantity = @p3
WHERE inventory_id = @p4;
2025-09-27 16:32:49.362 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.362 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 1ms reading results.
2025-09-27 16:32:49.363 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.363 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:32:49.364 +03:00 [DBG] An entity of type 'CarInventory' tracked by 'CarsTradeDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.365 +03:00 [DBG] SaveChanges completed for 'CarsTradeDbContext' with 1 entities written to the database.
2025-09-27 16:32:49.366 +03:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Include(o => o.OrderItems)
    .FirstOrDefault(o => o.OrderId == __orderId_0)'
2025-09-27 16:32:49.367 +03:00 [DBG] Including navigation: 'Order.OrderItems'.
2025-09-27 16:32:49.372 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Order>(
    asyncEnumerable: new SingleQueryingEnumerable<Order>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Order.OrderId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.BuyerId (Guid) Required FK Index, 1], [Property: Order.EmployeeId (Guid) Required FK Index, 2], [Property: Order.OrderAddress (OrderAddress) Required, 3], [Property: Order.OrderCompletionDate (DateTime?), 4], [Property: Order.OrderCreateDate (DateTime) Required, 5], [Property: Order.OrderPrice (decimal) Required, 6] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: OrderItem.OrderItemId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 7], [Property: OrderItem.CarModelId (Guid) Required FK Index, 8], [Property: OrderItem.OrderId (Guid) Required FK Index, 9], [Property: OrderItem.OrderItemComments (string), 10], [Property: OrderItem.OrderQuantity (long) Required, 11], [Property: OrderItem.UnitPrice (decimal) Required, 12] }
                3 -> 7
            SELECT t.order_id, t.BuyerId, t.EmployeeId, t.order_delivery_address, t.order_completion_date, t.order_create_date, t.order_price, o0.orderitem_id, o0.CarModelId, o0.OrderId, o0.comments, o0.order_quantity, o0.unit_price
            FROM 
            (
                SELECT TOP(1) o.order_id, o.BuyerId, o.EmployeeId, o.order_delivery_address, o.order_completion_date, o.order_create_date, o.order_price
                FROM Orders AS o
                WHERE o.order_id == @__orderId_0
            ) AS t
            LEFT JOIN OrderItems AS o0 ON t.order_id == o0.OrderId
            ORDER BY t.order_id ASC), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Order>, 
        CarsTradeAPI.Data.CarsTradeDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-27 16:32:49.372 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.373 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.373 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:32:49.373 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:49.373 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:49.373 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t.order_id, t."BuyerId", t."EmployeeId", t.order_delivery_address, t.order_completion_date, t.order_create_date, t.order_price, o0.orderitem_id, o0."CarModelId", o0."OrderId", o0.comments, o0.order_quantity, o0.unit_price
FROM (
    SELECT o.order_id, o."BuyerId", o."EmployeeId", o.order_delivery_address, o.order_completion_date, o.order_create_date, o.order_price
    FROM "Orders" AS o
    WHERE o.order_id = @__orderId_0
    LIMIT 1
) AS t
LEFT JOIN "OrderItems" AS o0 ON t.order_id = o0."OrderId"
ORDER BY t.order_id
2025-09-27 16:32:49.375 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__orderId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t.order_id, t."BuyerId", t."EmployeeId", t.order_delivery_address, t.order_completion_date, t.order_create_date, t.order_price, o0.orderitem_id, o0."CarModelId", o0."OrderId", o0.comments, o0.order_quantity, o0.unit_price
FROM (
    SELECT o.order_id, o."BuyerId", o."EmployeeId", o.order_delivery_address, o.order_completion_date, o.order_create_date, o.order_price
    FROM "Orders" AS o
    WHERE o.order_id = @__orderId_0
    LIMIT 1
) AS t
LEFT JOIN "OrderItems" AS o0 ON t.order_id = o0."OrderId"
ORDER BY t.order_id
2025-09-27 16:32:49.375 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.375 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-09-27 16:32:49.375 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.375 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:32:49.377 +03:00 [DBG] SaveChanges starting for 'CarsTradeDbContext'.
2025-09-27 16:32:49.377 +03:00 [DBG] DetectChanges starting for 'CarsTradeDbContext'.
2025-09-27 16:32:49.377 +03:00 [DBG] The unchanged property 'Order.OrderPrice' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-09-27 16:32:49.378 +03:00 [DBG] An entity of type 'Order' tracked by 'CarsTradeDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.380 +03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Order.OrderItems'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.388 +03:00 [DBG] 'CarsTradeDbContext' generated a value for the property 'OrderItem.OrderItemId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.390 +03:00 [DBG] The navigation 'OrderItem.CarModel' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.390 +03:00 [DBG] The navigation 'OrderItem.Order' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.391 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.392 +03:00 [DBG] DetectChanges completed for 'CarsTradeDbContext'.
2025-09-27 16:32:49.397 +03:00 [DBG] Executing 2 update commands as a batch.
2025-09-27 16:32:49.398 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.398 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.399 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-09-27 16:32:49.401 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-09-27 16:32:49.402 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:32:49.402 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:49.402 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:32:49.403 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = Int64), @p5='?' (DbType = Decimal), @p7='?' (DbType = Guid), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OrderItems" (orderitem_id, "CarModelId", "OrderId", comments, order_quantity, unit_price)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE "Orders" SET order_price = @p6
WHERE order_id = @p7;
2025-09-27 16:32:49.410 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?', @p4='?' (DbType = Int64), @p5='?' (DbType = Decimal), @p7='?' (DbType = Guid), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "OrderItems" (orderitem_id, "CarModelId", "OrderId", comments, order_quantity, unit_price)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
UPDATE "Orders" SET order_price = @p6
WHERE order_id = @p7;
2025-09-27 16:32:49.410 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.410 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-09-27 16:32:49.412 +03:00 [DBG] Committing transaction.
2025-09-27 16:32:49.416 +03:00 [DBG] Committed transaction.
2025-09-27 16:32:49.417 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.417 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:32:49.418 +03:00 [DBG] Disposing transaction.
2025-09-27 16:32:49.418 +03:00 [DBG] An entity of type 'OrderItem' tracked by 'CarsTradeDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.419 +03:00 [DBG] An entity of type 'Order' tracked by 'CarsTradeDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 16:32:49.420 +03:00 [DBG] SaveChanges completed for 'CarsTradeDbContext' with 2 entities written to the database.
2025-09-27 16:32:49.421 +03:00 [INF] Элемент заказа в заказ с ID: "870766ea-2d77-424e-bf69-736035661384" успешно добавлен
2025-09-27 16:32:49.421 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-27 16:32:49.421 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-27 16:32:49.422 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-27 16:32:49.422 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-27 16:32:49.422 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-27 16:32:49.422 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-27 16:32:49.422 +03:00 [INF] Executing OkObjectResult, writing value of type 'CarsTradeAPI.Features.OrdersOperation.OrdersDto.ShowOrderDto'.
2025-09-27 16:32:49.422 +03:00 [INF] Executed action CarsTradeAPI.Features.OrdersOperation.OrderItemsController.AddOrderItems (CarsTradeAPI) in 278.4959ms
2025-09-27 16:32:49.422 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.OrdersOperation.OrderItemsController.AddOrderItems (CarsTradeAPI)'
2025-09-27 16:32:49.422 +03:00 [DBG] 'CarsTradeDbContext' disposed.
2025-09-27 16:32:49.422 +03:00 [DBG] Connection ID "18302628907913838603" disconnecting.
2025-09-27 16:32:49.422 +03:00 [DBG] Disposing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:32:49.422 +03:00 [DBG] Disposed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:32:49.422 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44394/api/OrderItems/AddOrderItem - 200 null application/json; charset=utf-8 286.1862ms
2025-09-27 16:33:10.128 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44394/api/OrderItems/AddOrderItem - application/json 166
2025-09-27 16:33:10.129 +03:00 [DBG] 1 candidate(s) found for the request path '/api/OrderItems/AddOrderItem'
2025-09-27 16:33:10.129 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.OrdersOperation.OrderItemsController.AddOrderItems (CarsTradeAPI)' with route pattern 'api/OrderItems/AddOrderItem' is valid for the request path '/api/OrderItems/AddOrderItem'
2025-09-27 16:33:10.129 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.OrdersOperation.OrderItemsController.AddOrderItems (CarsTradeAPI)'
2025-09-27 16:33:10.129 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 16:33:10.129 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 16:33:10.129 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.OrdersOperation.OrderItemsController.AddOrderItems (CarsTradeAPI)'
2025-09-27 16:33:10.129 +03:00 [INF] Route matched with {action = "AddOrderItems", controller = "OrderItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CarsTradeAPI.Features.OrdersOperation.OrdersDto.ShowOrderDto]] AddOrderItems(CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand) on controller CarsTradeAPI.Features.OrdersOperation.OrderItemsController (CarsTradeAPI).
2025-09-27 16:33:10.129 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 16:33:10.129 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 16:33:10.129 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 16:33:10.129 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 16:33:10.129 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 16:33:10.130 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.OrdersOperation.OrderItemsController (CarsTradeAPI)
2025-09-27 16:33:10.130 +03:00 [DBG] Executed controller factory for controller CarsTradeAPI.Features.OrdersOperation.OrderItemsController (CarsTradeAPI)
2025-09-27 16:33:10.130 +03:00 [DBG] Attempting to bind parameter 'command' of type 'CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand' ...
2025-09-27 16:33:10.130 +03:00 [DBG] Attempting to bind parameter 'command' of type 'CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand' using the name '' in request data ...
2025-09-27 16:33:10.130 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-27 16:33:10.131 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand'
2025-09-27 16:33:10.131 +03:00 [DBG] Done attempting to bind parameter 'command' of type 'CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand'.
2025-09-27 16:33:10.131 +03:00 [DBG] Done attempting to bind parameter 'command' of type 'CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand'.
2025-09-27 16:33:10.131 +03:00 [DBG] Attempting to validate the bound parameter 'command' of type 'CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand' ...
2025-09-27 16:33:10.131 +03:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'CarsTradeAPI.Features.OrdersOperation.OrderItems.AddOrderItem.CreateOrderItemCommand'.
2025-09-27 16:33:10.131 +03:00 [INF] Получение запроса на добавление нового элемента заказа в заказ с ID: "870766ea-2d77-424e-bf69-736035661388"
2025-09-27 16:33:10.135 +03:00 [INF] Начало обработки команды CreateOrderItemCommand
2025-09-27 16:33:10.136 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'CarsTradeDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: None
2025-09-27 16:33:10.136 +03:00 [DBG] Creating DbConnection.
2025-09-27 16:33:10.137 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-27 16:33:10.137 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:33:10.137 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:33:10.137 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 16:33:10.137 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:33:10.137 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 16:33:10.137 +03:00 [DBG] Executing DbCommand [Parameters=[@__orderId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t.order_id, t."BuyerId", t."EmployeeId", t.order_delivery_address, t.order_completion_date, t.order_create_date, t.order_price, t0.orderitem_id, t0."CarModelId", t0."OrderId", t0.comments, t0.order_quantity, t0.unit_price, t0.car_id, t0.car_color, t0.car_configuration, t0.car_country, t0.car_engine, t0.car_manufacturer, t0.car_model, t0.car_price, t0."car_productionDateTime"
FROM (
    SELECT o.order_id, o."BuyerId", o."EmployeeId", o.order_delivery_address, o.order_completion_date, o.order_create_date, o.order_price
    FROM "Orders" AS o
    WHERE o.order_id = @__orderId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT o0.orderitem_id, o0."CarModelId", o0."OrderId", o0.comments, o0.order_quantity, o0.unit_price, c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
    FROM "OrderItems" AS o0
    INNER JOIN "CarModels" AS c ON o0."CarModelId" = c.car_id
) AS t0 ON t.order_id = t0."OrderId"
ORDER BY t.order_id, t0.orderitem_id
2025-09-27 16:33:10.141 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__orderId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT t.order_id, t."BuyerId", t."EmployeeId", t.order_delivery_address, t.order_completion_date, t.order_create_date, t.order_price, t0.orderitem_id, t0."CarModelId", t0."OrderId", t0.comments, t0.order_quantity, t0.unit_price, t0.car_id, t0.car_color, t0.car_configuration, t0.car_country, t0.car_engine, t0.car_manufacturer, t0.car_model, t0.car_price, t0."car_productionDateTime"
FROM (
    SELECT o.order_id, o."BuyerId", o."EmployeeId", o.order_delivery_address, o.order_completion_date, o.order_create_date, o.order_price
    FROM "Orders" AS o
    WHERE o.order_id = @__orderId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT o0.orderitem_id, o0."CarModelId", o0."OrderId", o0.comments, o0.order_quantity, o0.unit_price, c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
    FROM "OrderItems" AS o0
    INNER JOIN "CarModels" AS c ON o0."CarModelId" = c.car_id
) AS t0 ON t.order_id = t0."OrderId"
ORDER BY t.order_id, t0.orderitem_id
2025-09-27 16:33:10.141 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:33:10.141 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-09-27 16:33:10.141 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:33:10.141 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:33:10.145 +03:00 [WRN] Попытка создать элемент заказа, в заказе с ID: "870766ea-2d77-424e-bf69-736035661388" которого не существует
2025-09-27 16:33:10.186 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-27 16:33:10.186 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-27 16:33:10.186 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-27 16:33:10.186 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-27 16:33:10.186 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-27 16:33:10.186 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-27 16:33:10.187 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarsTradeAPI.Infrastructure.ValidationBehavior.ErrorDetail, CarsTradeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-27 16:33:10.189 +03:00 [INF] Executed action CarsTradeAPI.Features.OrdersOperation.OrderItemsController.AddOrderItems (CarsTradeAPI) in 59.3426ms
2025-09-27 16:33:10.189 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.OrdersOperation.OrderItemsController.AddOrderItems (CarsTradeAPI)'
2025-09-27 16:33:10.189 +03:00 [DBG] 'CarsTradeDbContext' disposed.
2025-09-27 16:33:10.189 +03:00 [DBG] Connection ID "18374686514836668444" disconnecting.
2025-09-27 16:33:10.189 +03:00 [DBG] Disposing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 16:33:10.189 +03:00 [DBG] Disposed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 16:33:10.189 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44394/api/OrderItems/AddOrderItem - 400 null application/json; charset=utf-8 61.3733ms
2025-09-27 21:00:51.553 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-27 21:00:51.641 +03:00 [DBG] Hosting starting
2025-09-27 21:00:51.681 +03:00 [INF] User profile is available. Using 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-27 21:00:51.692 +03:00 [DBG] Reading data from file 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys\key-054e4f4f-034f-4178-b80f-9acafa555bb9.xml'.
2025-09-27 21:00:51.724 +03:00 [DBG] Reading data from file 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys\key-bd51bb47-76a7-46e8-9e05-b4ffb5832e51.xml'.
2025-09-27 21:00:51.741 +03:00 [DBG] Found key {054e4f4f-034f-4178-b80f-9acafa555bb9}.
2025-09-27 21:00:51.750 +03:00 [DBG] Found key {bd51bb47-76a7-46e8-9e05-b4ffb5832e51}.
2025-09-27 21:00:51.753 +03:00 [DBG] Considering key {054e4f4f-034f-4178-b80f-9acafa555bb9} with expiration date 2025-10-09 12:57:51Z as default key.
2025-09-27 21:00:51.755 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-27 21:00:51.756 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-27 21:00:51.757 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-27 21:00:51.759 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-27 21:00:51.760 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-27 21:00:51.760 +03:00 [DBG] Using key {054e4f4f-034f-4178-b80f-9acafa555bb9} as the default key.
2025-09-27 21:00:51.761 +03:00 [DBG] Key ring with default key {054e4f4f-034f-4178-b80f-9acafa555bb9} was loaded during application startup.
2025-09-27 21:00:51.765 +03:00 [DBG] Middleware loaded
2025-09-27 21:00:51.767 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16509 B).
2025-09-27 21:00:51.767 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-27 21:00:51.869 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-27 21:00:51.872 +03:00 [DBG] Loaded hosting startup assembly CarsTradeAPI
2025-09-27 21:00:51.872 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-27 21:00:51.872 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-27 21:00:51.872 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-27 21:00:51.930 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/swagger/index.html - null null
2025-09-27 21:00:51.988 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-27 21:00:51.989 +03:00 [INF] Hosting environment: Development
2025-09-27 21:00:51.989 +03:00 [INF] Content root path: B:\MyDevelopment\MyRepos\CarsTradeAPI\CarsTradeAPI
2025-09-27 21:00:51.989 +03:00 [DBG] Hosting started
2025-09-27 21:00:52.035 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-27 21:00:52.047 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-27 21:00:52.047 +03:00 [DBG] Request did not match any endpoints
2025-09-27 21:00:52.815 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 21:00:52.848 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-27 21:00:52.849 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-27 21:00:52.877 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-27 21:00:52.878 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-27 21:00:52.880 +03:00 [DBG] Connection ID "18158513715543015427" disconnecting.
2025-09-27 21:00:52.881 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/swagger/index.html - 200 null text/html;charset=utf-8 955.8923ms
2025-09-27 21:00:52.896 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/_framework/aspnetcore-browser-refresh.js - null null
2025-09-27 21:00:52.897 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/_vs/browserLink - null null
2025-09-27 21:00:52.898 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-27 21:00:52.899 +03:00 [DBG] Connection ID "18374686519131635736" disconnecting.
2025-09-27 21:00:52.899 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 3.3587ms
2025-09-27 21:00:52.922 +03:00 [DBG] Connection ID "18374686536311504920" disconnecting.
2025-09-27 21:00:52.926 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/_vs/browserLink - 200 null text/javascript; charset=UTF-8 28.6788ms
2025-09-27 21:00:52.969 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/swagger/v1/swagger.json - null null
2025-09-27 21:00:52.969 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-27 21:00:52.969 +03:00 [DBG] Request did not match any endpoints
2025-09-27 21:00:52.970 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 21:00:52.991 +03:00 [DBG] Connection ID "18302628916503773185" disconnecting.
2025-09-27 21:00:52.991 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.4065ms
2025-09-27 21:01:10.149 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/api/CarModel/GetCarModels/All - null null
2025-09-27 21:01:10.153 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CarModel/GetCarModels/All'
2025-09-27 21:01:10.156 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.GetCarModel (CarsTradeAPI)' with route pattern 'api/CarModel/GetCarModels/All' is valid for the request path '/api/CarModel/GetCarModels/All'
2025-09-27 21:01:10.157 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.GetCarModel (CarsTradeAPI)'
2025-09-27 21:01:10.159 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 21:01:10.160 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 21:01:10.162 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.GetCarModel (CarsTradeAPI)'
2025-09-27 21:01:10.218 +03:00 [INF] Route matched with {action = "GetCarModel", controller = "CarModel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CarsTradeAPI.Features.CarModelOperation.CarModelDto.ShowCarModelDto]]] GetCarModel() on controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI).
2025-09-27 21:01:10.220 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 21:01:10.224 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 21:01:10.225 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 21:01:10.225 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 21:01:10.225 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 21:01:10.227 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI)
2025-09-27 21:01:10.230 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-27 21:01:10.231 +03:00 [DBG] Executed controller factory for controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI)
2025-09-27 21:01:10.233 +03:00 [INF] Начало обработки запроса GetCarModel для получения всех моделей
2025-09-27 21:01:10.617 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-27 21:01:10.698 +03:00 [INF] Начало обработки команды GetCarModelQuery
2025-09-27 21:01:10.698 +03:00 [INF] Этап получения всех CarModels в репозитории
2025-09-27 21:01:11.164 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'CarsTradeDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: None
2025-09-27 21:01:11.177 +03:00 [DBG] Compiling query expression: 
'DbSet<CarModel>()'
2025-09-27 21:01:11.269 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CarModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CarModel.CarModelId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CarModel.CarColor (string) Required, 1], [Property: CarModel.CarConfiguration (CarConfiguration) Required, 2], [Property: CarModel.CarCountry (string) Required, 3], [Property: CarModel.CarEngine (Engine), 4], [Property: CarModel.CarManufacturer (string) Required Index, 5], [Property: CarModel.CarModelName (string) Required Index, 6], [Property: CarModel.CarPrice (decimal) Required, 7], [Property: CarModel.ProductionDateTime (DateTime) Required, 8] }
        SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c.car_productionDateTime
        FROM CarModels AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CarModel>, 
    CarsTradeAPI.Data.CarsTradeDbContext, 
    False, 
    False, 
    True
)'
2025-09-27 21:01:11.285 +03:00 [DBG] Creating DbConnection.
2025-09-27 21:01:11.288 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-27 21:01:11.290 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:01:11.567 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:01:11.569 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 21:01:11.573 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-27 21:01:11.573 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-09-27 21:01:11.578 +03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
2025-09-27 21:01:11.597 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
2025-09-27 21:01:11.669 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 21:01:11.686 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 21:01:11.686 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 21:01:11.687 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 21:01:11.687 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 21:01:11.689 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:01:11.694 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 94ms reading results.
2025-09-27 21:01:11.696 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:01:11.698 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (2ms).
2025-09-27 21:01:11.699 +03:00 [INF] Все модели машин успешно получены
2025-09-27 21:01:11.708 +03:00 [INF] Успешное получение 5 моделей автомобилей
2025-09-27 21:01:11.711 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-27 21:01:11.712 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-27 21:01:11.713 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-27 21:01:11.713 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-27 21:01:11.713 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-27 21:01:11.714 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-27 21:01:11.714 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarsTradeAPI.Features.CarModelOperation.CarModelDto.ShowCarModelDto, CarsTradeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-27 21:01:11.729 +03:00 [INF] Executed action CarsTradeAPI.Features.CarModelOperation.CarModelController.GetCarModel (CarsTradeAPI) in 1501.787ms
2025-09-27 21:01:11.729 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.GetCarModel (CarsTradeAPI)'
2025-09-27 21:01:11.731 +03:00 [DBG] Connection ID "18302628899323904006" disconnecting.
2025-09-27 21:01:11.732 +03:00 [DBG] 'CarsTradeDbContext' disposed.
2025-09-27 21:01:11.735 +03:00 [DBG] Disposing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:01:11.736 +03:00 [DBG] Disposed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (1ms).
2025-09-27 21:01:11.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/api/CarModel/GetCarModels/All - 200 null application/json; charset=utf-8 1587.2562ms
2025-09-27 21:05:44.011 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-09-27 21:05:44.169 +03:00 [DBG] Hosting starting
2025-09-27 21:05:44.200 +03:00 [INF] User profile is available. Using 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-09-27 21:05:44.222 +03:00 [DBG] Reading data from file 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys\key-054e4f4f-034f-4178-b80f-9acafa555bb9.xml'.
2025-09-27 21:05:44.242 +03:00 [DBG] Reading data from file 'C:\Users\donro\AppData\Local\ASP.NET\DataProtection-Keys\key-bd51bb47-76a7-46e8-9e05-b4ffb5832e51.xml'.
2025-09-27 21:05:44.249 +03:00 [DBG] Found key {054e4f4f-034f-4178-b80f-9acafa555bb9}.
2025-09-27 21:05:44.254 +03:00 [DBG] Found key {bd51bb47-76a7-46e8-9e05-b4ffb5832e51}.
2025-09-27 21:05:44.262 +03:00 [DBG] Considering key {054e4f4f-034f-4178-b80f-9acafa555bb9} with expiration date 2025-10-09 12:57:51Z as default key.
2025-09-27 21:05:44.269 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-27 21:05:44.271 +03:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-09-27 21:05:44.272 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-09-27 21:05:44.275 +03:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-09-27 21:05:44.276 +03:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-09-27 21:05:44.277 +03:00 [DBG] Using key {054e4f4f-034f-4178-b80f-9acafa555bb9} as the default key.
2025-09-27 21:05:44.277 +03:00 [DBG] Key ring with default key {054e4f4f-034f-4178-b80f-9acafa555bb9} was loaded during application startup.
2025-09-27 21:05:44.281 +03:00 [DBG] Middleware loaded
2025-09-27 21:05:44.282 +03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16509 B).
2025-09-27 21:05:44.283 +03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-09-27 21:05:44.352 +03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-09-27 21:05:44.356 +03:00 [DBG] Loaded hosting startup assembly CarsTradeAPI
2025-09-27 21:05:44.356 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-09-27 21:05:44.356 +03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-09-27 21:05:44.356 +03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-09-27 21:05:44.384 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/swagger/index.html - null null
2025-09-27 21:05:44.457 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-09-27 21:05:44.457 +03:00 [INF] Hosting environment: Development
2025-09-27 21:05:44.457 +03:00 [INF] Content root path: B:\MyDevelopment\MyRepos\CarsTradeAPI\CarsTradeAPI
2025-09-27 21:05:44.457 +03:00 [DBG] Hosting started
2025-09-27 21:05:44.464 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-09-27 21:05:44.475 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-09-27 21:05:44.475 +03:00 [DBG] Request did not match any endpoints
2025-09-27 21:05:44.520 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 21:05:44.562 +03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-09-27 21:05:44.563 +03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-09-27 21:05:44.589 +03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-09-27 21:05:44.589 +03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-09-27 21:05:44.594 +03:00 [DBG] Connection ID "18374686519131635738" disconnecting.
2025-09-27 21:05:44.595 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/swagger/index.html - 200 null text/html;charset=utf-8 215.3818ms
2025-09-27 21:05:44.609 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/_framework/aspnetcore-browser-refresh.js - null null
2025-09-27 21:05:44.609 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/_vs/browserLink - null null
2025-09-27 21:05:44.612 +03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-09-27 21:05:44.613 +03:00 [DBG] Connection ID "18302628907913838609" disconnecting.
2025-09-27 21:05:44.614 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/_framework/aspnetcore-browser-refresh.js - 200 16509 application/javascript; charset=utf-8 3.7111ms
2025-09-27 21:05:44.632 +03:00 [DBG] Connection ID "18302628895028936720" disconnecting.
2025-09-27 21:05:44.633 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/_vs/browserLink - 200 null text/javascript; charset=UTF-8 23.6312ms
2025-09-27 21:05:44.743 +03:00 [INF] Request starting HTTP/2 GET https://localhost:44394/swagger/v1/swagger.json - null null
2025-09-27 21:05:44.743 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-09-27 21:05:44.744 +03:00 [DBG] Request did not match any endpoints
2025-09-27 21:05:44.744 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 21:05:44.763 +03:00 [DBG] Connection ID "18374686514836668449" disconnecting.
2025-09-27 21:05:44.763 +03:00 [INF] Request finished HTTP/2 GET https://localhost:44394/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.6756ms
2025-09-27 21:06:05.190 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44394/api/CarModel/GetCarModels/Search - application/json 408
2025-09-27 21:06:05.207 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CarModel/GetCarModels/Search'
2025-09-27 21:06:05.210 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)' with route pattern 'api/CarModel/GetCarModels/Search' is valid for the request path '/api/CarModel/GetCarModels/Search'
2025-09-27 21:06:05.211 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:06:05.213 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 21:06:05.213 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 21:06:05.215 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:06:05.233 +03:00 [INF] Route matched with {action = "SearchCarModels", controller = "CarModel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CarsTradeAPI.Features.CarModelOperation.CarModelDto.ShowCarModelDto]]] SearchCarModels(CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery) on controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI).
2025-09-27 21:06:05.233 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 21:06:05.233 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 21:06:05.234 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 21:06:05.234 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 21:06:05.234 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 21:06:05.235 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI)
2025-09-27 21:06:05.236 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-09-27 21:06:05.237 +03:00 [DBG] Executed controller factory for controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI)
2025-09-27 21:06:05.241 +03:00 [DBG] Attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' ...
2025-09-27 21:06:05.242 +03:00 [DBG] Attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' using the name '' in request data ...
2025-09-27 21:06:05.242 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-27 21:06:05.272 +03:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Nullable`1[System.Guid]. Path: $.carModelId | LineNumber: 1 | BytePositionInLine: 18.
2025-09-27 21:06:05.273 +03:00 [DBG] Done attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:06:05.273 +03:00 [DBG] Done attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:06:05.273 +03:00 [DBG] Attempting to validate the bound parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' ...
2025-09-27 21:06:05.279 +03:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:06:05.280 +03:00 [DBG] The request has model state errors, returning an error response.
2025-09-27 21:06:05.281 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-09-27 21:06:05.283 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-27 21:06:05.284 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-09-27 21:06:05.284 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-27 21:06:05.284 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-09-27 21:06:05.285 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-09-27 21:06:05.285 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-27 21:06:05.307 +03:00 [INF] Executed action CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI) in 71.6742ms
2025-09-27 21:06:05.308 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:06:05.308 +03:00 [DBG] Connection ID "18302628907913838611" disconnecting.
2025-09-27 21:06:05.308 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44394/api/CarModel/GetCarModels/Search - 400 null application/problem+json; charset=utf-8 118.1111ms
2025-09-27 21:06:26.672 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44394/api/CarModel/GetCarModels/Search - application/json 444
2025-09-27 21:06:26.674 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CarModel/GetCarModels/Search'
2025-09-27 21:06:26.674 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)' with route pattern 'api/CarModel/GetCarModels/Search' is valid for the request path '/api/CarModel/GetCarModels/Search'
2025-09-27 21:06:26.675 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:06:26.675 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 21:06:26.675 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 21:06:26.675 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:06:26.676 +03:00 [INF] Route matched with {action = "SearchCarModels", controller = "CarModel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CarsTradeAPI.Features.CarModelOperation.CarModelDto.ShowCarModelDto]]] SearchCarModels(CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery) on controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI).
2025-09-27 21:06:26.676 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 21:06:26.676 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 21:06:26.676 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 21:06:26.676 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 21:06:26.676 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 21:06:26.676 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI)
2025-09-27 21:06:26.676 +03:00 [DBG] Executed controller factory for controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI)
2025-09-27 21:06:26.677 +03:00 [DBG] Attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' ...
2025-09-27 21:06:26.681 +03:00 [DBG] Attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' using the name '' in request data ...
2025-09-27 21:06:26.684 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-27 21:06:26.700 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'
2025-09-27 21:06:26.700 +03:00 [DBG] Done attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:06:26.700 +03:00 [DBG] Done attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:06:26.700 +03:00 [DBG] Attempting to validate the bound parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' ...
2025-09-27 21:06:26.707 +03:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:06:26.708 +03:00 [INF] Начало обработки запроса на поиск автомобилей по параметрам
2025-09-27 21:06:26.813 +03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-09-27 21:06:26.891 +03:00 [INF] Начало обработки запроса SearchCarModelQuery
2025-09-27 21:06:26.892 +03:00 [INF] Этап получения CarModel с ID: "3fa85f64-5717-4562-b3fc-2c963f66afa6" в репозитории
2025-09-27 21:06:27.388 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'CarsTradeDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: None
2025-09-27 21:06:27.406 +03:00 [DBG] Compiling query expression: 
'DbSet<CarModel>()
    .FirstOrDefault(id => id.CarModelId == __CarModelId_0)'
2025-09-27 21:06:27.531 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<CarModel>(
    asyncEnumerable: new SingleQueryingEnumerable<CarModel>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CarModel.CarModelId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CarModel.CarColor (string) Required, 1], [Property: CarModel.CarConfiguration (CarConfiguration) Required, 2], [Property: CarModel.CarCountry (string) Required, 3], [Property: CarModel.CarEngine (Engine), 4], [Property: CarModel.CarManufacturer (string) Required Index, 5], [Property: CarModel.CarModelName (string) Required Index, 6], [Property: CarModel.CarPrice (decimal) Required, 7], [Property: CarModel.ProductionDateTime (DateTime) Required, 8] }
            SELECT TOP(1) c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c.car_productionDateTime
            FROM CarModels AS c
            WHERE c.car_id == @__CarModelId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CarModel>, 
        CarsTradeAPI.Data.CarsTradeDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-09-27 21:06:27.557 +03:00 [DBG] Creating DbConnection.
2025-09-27 21:06:27.561 +03:00 [DBG] Created DbConnection. (2ms).
2025-09-27 21:06:27.564 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:06:27.670 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:06:27.673 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 21:06:27.677 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-09-27 21:06:27.681 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2025-09-27 21:06:27.686 +03:00 [DBG] Executing DbCommand [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 21:06:27.736 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__CarModelId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_id = @__CarModelId_0
LIMIT 1
2025-09-27 21:06:27.740 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:06:27.746 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 6ms reading results.
2025-09-27 21:06:27.748 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:06:27.750 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (2ms).
2025-09-27 21:06:27.750 +03:00 [WRN] Попытка получить несуществующую модель машины с ID: "3fa85f64-5717-4562-b3fc-2c963f66afa6"
2025-09-27 21:06:27.751 +03:00 [WRN] Попытка получить несуществующую модель автомобиля с ID: "3fa85f64-5717-4562-b3fc-2c963f66afa6"
2025-09-27 21:06:27.754 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-27 21:06:27.754 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-27 21:06:27.755 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-27 21:06:27.755 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-27 21:06:27.755 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-27 21:06:27.755 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-27 21:06:27.755 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarsTradeAPI.Infrastructure.ValidationBehavior.ErrorDetail, CarsTradeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-27 21:06:27.757 +03:00 [INF] Executed action CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI) in 1081.2574ms
2025-09-27 21:06:27.758 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:06:27.759 +03:00 [DBG] Connection ID "18302628895028936722" disconnecting.
2025-09-27 21:06:27.760 +03:00 [DBG] 'CarsTradeDbContext' disposed.
2025-09-27 21:06:27.763 +03:00 [DBG] Disposing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:06:27.763 +03:00 [DBG] Disposed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (1ms).
2025-09-27 21:06:27.764 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44394/api/CarModel/GetCarModels/Search - 400 null application/json; charset=utf-8 1091.5062ms
2025-09-27 21:06:42.678 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44394/api/CarModel/GetCarModels/Search - application/json 388
2025-09-27 21:06:42.678 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CarModel/GetCarModels/Search'
2025-09-27 21:06:42.678 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)' with route pattern 'api/CarModel/GetCarModels/Search' is valid for the request path '/api/CarModel/GetCarModels/Search'
2025-09-27 21:06:42.678 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:06:42.678 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 21:06:42.678 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 21:06:42.679 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:06:42.679 +03:00 [INF] Route matched with {action = "SearchCarModels", controller = "CarModel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CarsTradeAPI.Features.CarModelOperation.CarModelDto.ShowCarModelDto]]] SearchCarModels(CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery) on controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI).
2025-09-27 21:06:42.679 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 21:06:42.679 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 21:06:42.679 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 21:06:42.679 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 21:06:42.679 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 21:06:42.679 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI)
2025-09-27 21:06:42.679 +03:00 [DBG] Executed controller factory for controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI)
2025-09-27 21:06:42.680 +03:00 [DBG] Attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' ...
2025-09-27 21:06:42.680 +03:00 [DBG] Attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' using the name '' in request data ...
2025-09-27 21:06:42.680 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-27 21:06:42.680 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'
2025-09-27 21:06:42.680 +03:00 [DBG] Done attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:06:42.680 +03:00 [DBG] Done attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:06:42.680 +03:00 [DBG] Attempting to validate the bound parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' ...
2025-09-27 21:06:42.680 +03:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:06:42.680 +03:00 [INF] Начало обработки запроса на поиск автомобилей по параметрам
2025-09-27 21:06:42.684 +03:00 [INF] Начало обработки запроса SearchCarModelQuery
2025-09-27 21:06:42.694 +03:00 [INF] Этап получения CarModel по параметрам запроса поимка в репозитории
2025-09-27 21:06:42.710 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'CarsTradeDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: None
2025-09-27 21:06:42.723 +03:00 [DBG] Compiling query expression: 
'DbSet<CarModel>()
    .Where(a => a.CarManufacturer != null && __Functions_0
        .ILike(
            matchExpression: a.CarManufacturer, 
            pattern: __Format_1))
    .Where(a => a.CarModelName != null && __Functions_0
        .ILike(
            matchExpression: a.CarModelName, 
            pattern: __Format_2))
    .Where(a => a.CarConfiguration != null && __Functions_0
        .ILike(
            matchExpression: a.CarConfiguration.CarInterior, 
            pattern: __Format_3) && __Functions_0
        .ILike(
            matchExpression: a.CarConfiguration.WheelSize.ToString(), 
            pattern: __Format_4) && __Functions_0
        .ILike(
            matchExpression: a.CarConfiguration.CarMusicBrand, 
            pattern: __Format_5))
    .Where(a => a.CarCountry != null && __Functions_0
        .ILike(
            matchExpression: a.CarCountry, 
            pattern: __Format_6))
    .Where(x => x.ProductionDateTime.Year == __query_ProductionDateTime_Value_Year_7)
    .Where(a => a.CarEngine != null && (int)a.CarEngine.FuelType == (int)__query_CarEngine_FuelType_8 && a.CarEngine.EngineCapacity == __query_CarEngine_EngineCapacity_9 && a.CarEngine.EngineHorsePower == __query_CarEngine_EngineHorsePower_10)
    .Where(a => a.CarColor != null && __Functions_0
        .ILike(
            matchExpression: a.CarColor, 
            pattern: __Format_11))
    .Where(a => (decimal?)a.CarPrice == __query_CarPrice_12)'
2025-09-27 21:06:42.752 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CarModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CarModel.CarModelId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CarModel.CarColor (string) Required, 1], [Property: CarModel.CarConfiguration (CarConfiguration) Required, 2], [Property: CarModel.CarCountry (string) Required, 3], [Property: CarModel.CarEngine (Engine), 4], [Property: CarModel.CarManufacturer (string) Required Index, 5], [Property: CarModel.CarModelName (string) Required Index, 6], [Property: CarModel.CarPrice (decimal) Required, 7], [Property: CarModel.ProductionDateTime (DateTime) Required, 8] }
        SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c.car_productionDateTime
        FROM CarModels AS c
        WHERE ((((((((c.car_manufacturer != NULL) && c.car_manufacturer ILIKE @__Format_1 ESCAPE '') && ((c.car_model != NULL) && c.car_model ILIKE @__Format_2 ESCAPE '')) && ((((c.car_configuration != NULL) && c.car_configuration#>>{'CarInterior'} ILIKE @__Format_3 ESCAPE '') && CAST(CAST(c.car_configuration#>>{'WheelSize'} AS real) AS text) ILIKE @__Format_4 ESCAPE '') && c.car_configuration#>>{'CarMusicBrand'} ILIKE @__Format_5 ESCAPE '')) && ((c.car_country != NULL) && c.car_country ILIKE @__Format_6 ESCAPE '')) && (CAST(date_part('year', c.car_productionDateTime AT TIME ZONE 'UTC') AS integer) == @__query_ProductionDateTime_Value_Year_7)) && ((((c.car_engine != NULL) && (CAST(c.car_engine#>>{'FuelType'} AS integer) == @__query_CarEngine_FuelType_8)) && (CAST(c.car_engine#>>{'EngineCapacity'} AS real) == @__query_CarEngine_EngineCapacity_9)) && (CAST(c.car_engine#>>{'EngineHorsePower'} AS bigint) == @__query_CarEngine_EngineHorsePower_10))) && ((c.car_color != NULL) && c.car_color ILIKE @__Format_11 ESCAPE '')) && (c.car_price == @__query_CarPrice_12)), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CarModel>, 
    CarsTradeAPI.Data.CarsTradeDbContext, 
    False, 
    False, 
    True
)'
2025-09-27 21:06:42.761 +03:00 [DBG] Creating DbConnection.
2025-09-27 21:06:42.761 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-27 21:06:42.762 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:06:42.762 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:06:42.762 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 21:06:42.762 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 21:06:42.764 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-09-27 21:06:42.764 +03:00 [DBG] Executing DbCommand [Parameters=[@__Format_1='?', @__Format_2='?', @__Format_3='?', @__Format_4='?', @__Format_5='?', @__Format_6='?', @__query_ProductionDateTime_Value_Year_7='?' (DbType = Int32), @__query_CarEngine_FuelType_8='?' (DbType = Int32), @__query_CarEngine_EngineCapacity_9='?' (DbType = Single), @__query_CarEngine_EngineHorsePower_10='?' (DbType = Int64), @__Format_11='?', @__query_CarPrice_12='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_manufacturer ILIKE @__Format_1 ESCAPE '' AND c.car_model ILIKE @__Format_2 ESCAPE '' AND c.car_configuration ->> 'CarInterior' ILIKE @__Format_3 ESCAPE '' AND CAST(c.car_configuration ->> 'WheelSize' AS real)::text ILIKE @__Format_4 ESCAPE '' AND c.car_configuration ->> 'CarMusicBrand' ILIKE @__Format_5 ESCAPE '' AND c.car_country ILIKE @__Format_6 ESCAPE '' AND date_part('year', c."car_productionDateTime" AT TIME ZONE 'UTC')::int = @__query_ProductionDateTime_Value_Year_7 AND c.car_engine IS NOT NULL AND CAST(c.car_engine ->> 'FuelType' AS integer) = @__query_CarEngine_FuelType_8 AND CAST(c.car_engine ->> 'EngineCapacity' AS real) = @__query_CarEngine_EngineCapacity_9 AND CAST(c.car_engine ->> 'EngineHorsePower' AS bigint) = @__query_CarEngine_EngineHorsePower_10 AND c.car_color ILIKE @__Format_11 ESCAPE '' AND c.car_price = @__query_CarPrice_12
2025-09-27 21:06:42.794 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__Format_1='?', @__Format_2='?', @__Format_3='?', @__Format_4='?', @__Format_5='?', @__Format_6='?', @__query_ProductionDateTime_Value_Year_7='?' (DbType = Int32), @__query_CarEngine_FuelType_8='?' (DbType = Int32), @__query_CarEngine_EngineCapacity_9='?' (DbType = Single), @__query_CarEngine_EngineHorsePower_10='?' (DbType = Int64), @__Format_11='?', @__query_CarPrice_12='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_manufacturer ILIKE @__Format_1 ESCAPE '' AND c.car_model ILIKE @__Format_2 ESCAPE '' AND c.car_configuration ->> 'CarInterior' ILIKE @__Format_3 ESCAPE '' AND CAST(c.car_configuration ->> 'WheelSize' AS real)::text ILIKE @__Format_4 ESCAPE '' AND c.car_configuration ->> 'CarMusicBrand' ILIKE @__Format_5 ESCAPE '' AND c.car_country ILIKE @__Format_6 ESCAPE '' AND date_part('year', c."car_productionDateTime" AT TIME ZONE 'UTC')::int = @__query_ProductionDateTime_Value_Year_7 AND c.car_engine IS NOT NULL AND CAST(c.car_engine ->> 'FuelType' AS integer) = @__query_CarEngine_FuelType_8 AND CAST(c.car_engine ->> 'EngineCapacity' AS real) = @__query_CarEngine_EngineCapacity_9 AND CAST(c.car_engine ->> 'EngineHorsePower' AS bigint) = @__query_CarEngine_EngineHorsePower_10 AND c.car_color ILIKE @__Format_11 ESCAPE '' AND c.car_price = @__query_CarPrice_12
2025-09-27 21:06:42.794 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:06:42.795 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2025-09-27 21:06:42.795 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:06:42.795 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 21:06:42.795 +03:00 [INF] Было найдены машины в количестве 0
2025-09-27 21:06:42.803 +03:00 [INF] Запрос на поиск автомобилей был успешно выполнен, количество найдены автомобилей 0
2025-09-27 21:06:42.804 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-27 21:06:42.804 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-27 21:06:42.804 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-27 21:06:42.804 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-27 21:06:42.804 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-27 21:06:42.804 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-27 21:06:42.804 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarsTradeAPI.Features.CarModelOperation.CarModelDto.ShowCarModelDto, CarsTradeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-27 21:06:42.810 +03:00 [INF] Executed action CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI) in 130.9429ms
2025-09-27 21:06:42.810 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:06:42.810 +03:00 [DBG] Connection ID "18158513715543015429" disconnecting.
2025-09-27 21:06:42.810 +03:00 [DBG] 'CarsTradeDbContext' disposed.
2025-09-27 21:06:42.810 +03:00 [DBG] Disposing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:06:42.810 +03:00 [DBG] Disposed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 21:06:42.810 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44394/api/CarModel/GetCarModels/Search - 200 null application/json; charset=utf-8 133.1655ms
2025-09-27 21:07:08.244 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44394/api/CarModel/GetCarModels/Search - application/json 340
2025-09-27 21:07:08.245 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CarModel/GetCarModels/Search'
2025-09-27 21:07:08.245 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)' with route pattern 'api/CarModel/GetCarModels/Search' is valid for the request path '/api/CarModel/GetCarModels/Search'
2025-09-27 21:07:08.245 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:07:08.245 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 21:07:08.245 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 21:07:08.245 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:07:08.245 +03:00 [INF] Route matched with {action = "SearchCarModels", controller = "CarModel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CarsTradeAPI.Features.CarModelOperation.CarModelDto.ShowCarModelDto]]] SearchCarModels(CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery) on controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI).
2025-09-27 21:07:08.245 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 21:07:08.245 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 21:07:08.245 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 21:07:08.245 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 21:07:08.245 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 21:07:08.245 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI)
2025-09-27 21:07:08.246 +03:00 [DBG] Executed controller factory for controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI)
2025-09-27 21:07:08.246 +03:00 [DBG] Attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' ...
2025-09-27 21:07:08.246 +03:00 [DBG] Attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' using the name '' in request data ...
2025-09-27 21:07:08.246 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-27 21:07:08.247 +03:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Nullable`1[System.DateTime]. Path: $.productionDateTime | LineNumber: 9 | BytePositionInLine: 26.
2025-09-27 21:07:08.247 +03:00 [DBG] Done attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:07:08.247 +03:00 [DBG] Done attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:07:08.247 +03:00 [DBG] Attempting to validate the bound parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' ...
2025-09-27 21:07:08.247 +03:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:07:08.248 +03:00 [DBG] The request has model state errors, returning an error response.
2025-09-27 21:07:08.248 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-09-27 21:07:08.248 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-27 21:07:08.248 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-09-27 21:07:08.248 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-27 21:07:08.248 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-09-27 21:07:08.248 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-09-27 21:07:08.248 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-27 21:07:08.248 +03:00 [INF] Executed action CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI) in 2.9406ms
2025-09-27 21:07:08.248 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:07:08.249 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44394/api/CarModel/GetCarModels/Search - 400 null application/problem+json; charset=utf-8 4.3101ms
2025-09-27 21:07:08.249 +03:00 [DBG] Connection ID "18302628899323904010" disconnecting.
2025-09-27 21:07:23.801 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44394/api/CarModel/GetCarModels/Search - application/json 322
2025-09-27 21:07:23.801 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CarModel/GetCarModels/Search'
2025-09-27 21:07:23.801 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)' with route pattern 'api/CarModel/GetCarModels/Search' is valid for the request path '/api/CarModel/GetCarModels/Search'
2025-09-27 21:07:23.801 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:07:23.801 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 21:07:23.801 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 21:07:23.801 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:07:23.801 +03:00 [INF] Route matched with {action = "SearchCarModels", controller = "CarModel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CarsTradeAPI.Features.CarModelOperation.CarModelDto.ShowCarModelDto]]] SearchCarModels(CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery) on controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI).
2025-09-27 21:07:23.801 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 21:07:23.801 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 21:07:23.801 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 21:07:23.801 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 21:07:23.801 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 21:07:23.801 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI)
2025-09-27 21:07:23.801 +03:00 [DBG] Executed controller factory for controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI)
2025-09-27 21:07:23.802 +03:00 [DBG] Attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' ...
2025-09-27 21:07:23.802 +03:00 [DBG] Attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' using the name '' in request data ...
2025-09-27 21:07:23.802 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-27 21:07:23.804 +03:00 [DBG] JSON input formatter threw an exception: ',' is an invalid start of a value. Path: $.carConfiguration.wheelSize | LineNumber: 5 | BytePositionInLine: 17.
2025-09-27 21:07:23.804 +03:00 [DBG] Done attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:07:23.804 +03:00 [DBG] Done attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:07:23.804 +03:00 [DBG] Attempting to validate the bound parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' ...
2025-09-27 21:07:23.804 +03:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:07:23.804 +03:00 [DBG] The request has model state errors, returning an error response.
2025-09-27 21:07:23.804 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-09-27 21:07:23.804 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-27 21:07:23.804 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-09-27 21:07:23.804 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-27 21:07:23.804 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-09-27 21:07:23.804 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-09-27 21:07:23.804 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-09-27 21:07:23.805 +03:00 [INF] Executed action CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI) in 3.4153ms
2025-09-27 21:07:23.805 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:07:23.805 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44394/api/CarModel/GetCarModels/Search - 400 null application/problem+json; charset=utf-8 4.5568ms
2025-09-27 21:07:23.805 +03:00 [DBG] Connection ID "18302628920798740484" disconnecting.
2025-09-27 21:07:43.468 +03:00 [INF] Request starting HTTP/2 POST https://localhost:44394/api/CarModel/GetCarModels/Search - application/json 32
2025-09-27 21:07:43.468 +03:00 [DBG] 1 candidate(s) found for the request path '/api/CarModel/GetCarModels/Search'
2025-09-27 21:07:43.468 +03:00 [DBG] Endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)' with route pattern 'api/CarModel/GetCarModels/Search' is valid for the request path '/api/CarModel/GetCarModels/Search'
2025-09-27 21:07:43.468 +03:00 [DBG] Request matched endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:07:43.468 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-09-27 21:07:43.468 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-09-27 21:07:43.468 +03:00 [INF] Executing endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:07:43.469 +03:00 [INF] Route matched with {action = "SearchCarModels", controller = "CarModel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[CarsTradeAPI.Features.CarModelOperation.CarModelDto.ShowCarModelDto]]] SearchCarModels(CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery) on controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI).
2025-09-27 21:07:43.469 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-09-27 21:07:43.469 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-09-27 21:07:43.469 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-09-27 21:07:43.469 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-09-27 21:07:43.469 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-09-27 21:07:43.469 +03:00 [DBG] Executing controller factory for controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI)
2025-09-27 21:07:43.469 +03:00 [DBG] Executed controller factory for controller CarsTradeAPI.Features.CarModelOperation.CarModelController (CarsTradeAPI)
2025-09-27 21:07:43.469 +03:00 [DBG] Attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' ...
2025-09-27 21:07:43.469 +03:00 [DBG] Attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' using the name '' in request data ...
2025-09-27 21:07:43.469 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-09-27 21:07:43.469 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'
2025-09-27 21:07:43.469 +03:00 [DBG] Done attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:07:43.469 +03:00 [DBG] Done attempting to bind parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:07:43.469 +03:00 [DBG] Attempting to validate the bound parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery' ...
2025-09-27 21:07:43.469 +03:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'CarsTradeAPI.Features.CarModelOperation.SearchCarModel.SearchCarModelQuery'.
2025-09-27 21:07:43.469 +03:00 [INF] Начало обработки запроса на поиск автомобилей по параметрам
2025-09-27 21:07:43.471 +03:00 [INF] Начало обработки запроса SearchCarModelQuery
2025-09-27 21:07:43.471 +03:00 [INF] Этап получения CarModel по параметрам запроса поимка в репозитории
2025-09-27 21:07:43.510 +03:00 [DBG] Entity Framework Core 8.0.7 initialized 'CarsTradeDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: None
2025-09-27 21:07:43.511 +03:00 [DBG] Compiling query expression: 
'DbSet<CarModel>()
    .Where(a => a.CarManufacturer != null && __Functions_0
        .ILike(
            matchExpression: a.CarManufacturer, 
            pattern: __Format_1))'
2025-09-27 21:07:43.513 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CarModel>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: CarModel.CarModelId (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: CarModel.CarColor (string) Required, 1], [Property: CarModel.CarConfiguration (CarConfiguration) Required, 2], [Property: CarModel.CarCountry (string) Required, 3], [Property: CarModel.CarEngine (Engine), 4], [Property: CarModel.CarManufacturer (string) Required Index, 5], [Property: CarModel.CarModelName (string) Required Index, 6], [Property: CarModel.CarPrice (decimal) Required, 7], [Property: CarModel.ProductionDateTime (DateTime) Required, 8] }
        SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c.car_productionDateTime
        FROM CarModels AS c
        WHERE (c.car_manufacturer != NULL) && c.car_manufacturer ILIKE @__Format_1 ESCAPE ''), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CarModel>, 
    CarsTradeAPI.Data.CarsTradeDbContext, 
    False, 
    False, 
    True
)'
2025-09-27 21:07:43.514 +03:00 [DBG] Creating DbConnection.
2025-09-27 21:07:43.514 +03:00 [DBG] Created DbConnection. (0ms).
2025-09-27 21:07:43.514 +03:00 [DBG] Opening connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:07:43.514 +03:00 [DBG] Opened connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:07:43.514 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-09-27 21:07:43.514 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-09-27 21:07:43.514 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-09-27 21:07:43.514 +03:00 [DBG] Executing DbCommand [Parameters=[@__Format_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_manufacturer ILIKE @__Format_1 ESCAPE ''
2025-09-27 21:07:43.515 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__Format_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c.car_id, c.car_color, c.car_configuration, c.car_country, c.car_engine, c.car_manufacturer, c.car_model, c.car_price, c."car_productionDateTime"
FROM "CarModels" AS c
WHERE c.car_manufacturer ILIKE @__Format_1 ESCAPE ''
2025-09-27 21:07:43.548 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 21:07:43.563 +03:00 [DBG] Context 'CarsTradeDbContext' started tracking 'CarModel' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-09-27 21:07:43.563 +03:00 [DBG] Closing data reader to 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:07:43.563 +03:00 [DBG] A data reader for 'CarsTrade' on server 'tcp://localhost:5432' is being disposed after spending 47ms reading results.
2025-09-27 21:07:43.563 +03:00 [DBG] Closing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:07:43.563 +03:00 [DBG] Closed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 21:07:43.563 +03:00 [INF] Было найдены машины в количестве 2
2025-09-27 21:07:43.564 +03:00 [INF] Запрос на поиск автомобилей был успешно выполнен, количество найдены автомобилей 2
2025-09-27 21:07:43.564 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-09-27 21:07:43.564 +03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-09-27 21:07:43.564 +03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-09-27 21:07:43.564 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-09-27 21:07:43.564 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-09-27 21:07:43.564 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-09-27 21:07:43.564 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CarsTradeAPI.Features.CarModelOperation.CarModelDto.ShowCarModelDto, CarsTradeAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-09-27 21:07:43.570 +03:00 [INF] Executed action CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI) in 101.0425ms
2025-09-27 21:07:43.570 +03:00 [INF] Executed endpoint 'CarsTradeAPI.Features.CarModelOperation.CarModelController.SearchCarModels (CarsTradeAPI)'
2025-09-27 21:07:43.570 +03:00 [DBG] Connection ID "18302628886439002124" disconnecting.
2025-09-27 21:07:43.570 +03:00 [DBG] 'CarsTradeDbContext' disposed.
2025-09-27 21:07:43.570 +03:00 [DBG] Disposing connection to database 'CarsTrade' on server 'tcp://localhost:5432'.
2025-09-27 21:07:43.570 +03:00 [DBG] Disposed connection to database 'CarsTrade' on server 'tcp://localhost:5432' (0ms).
2025-09-27 21:07:43.570 +03:00 [INF] Request finished HTTP/2 POST https://localhost:44394/api/CarModel/GetCarModels/Search - 200 null application/json; charset=utf-8 102.3245ms
